import{r as t,c as e,h as s,H as i,g as o}from"./p-c9795ae2.js";import{b as n}from"./p-fb3db021.js";import{s as a}from"./p-25ce1a41.js";import{g as l}from"./p-a7d431c5.js";import{c as r}from"./p-8ccc0928.js";import{g as c}from"./p-8e7315f7.js";import{v as d}from"./p-19b890a3.js";const h=["top","right","bottom","left"];const f=["start","end"];const u=h.reduce(((t,e)=>t.concat(e,e+"-"+f[0],e+"-"+f[1])),[]);const p=Math.min;const m=Math.max;const g=Math.round;const v=Math.floor;const y=t=>({x:t,y:t});const b={left:"right",right:"left",bottom:"top",top:"bottom"};const w={start:"end",end:"start"};function x(t,e,s){return m(t,p(e,s))}function z(t,e){return typeof t==="function"?t(e):t}function k(t){return t.split("-")[0]}function A(t){return t.split("-")[1]}function S(t){return t==="x"?"y":"x"}function L(t){return t==="y"?"height":"width"}function O(t){return["top","bottom"].includes(k(t))?"y":"x"}function D(t){return S(O(t))}function R(t,e,s){if(s===void 0){s=false}const i=A(t);const o=D(t);const n=L(o);let a=o==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";if(e.reference[n]>e.floating[n]){a=F(a)}return[a,F(a)]}function P(t){const e=F(t);return[C(t),e,C(e)]}function C(t){return t.replace(/start|end/g,(t=>w[t]))}function T(t,e,s){const i=["left","right"];const o=["right","left"];const n=["top","bottom"];const a=["bottom","top"];switch(t){case"top":case"bottom":if(s)return e?o:i;return e?i:o;case"left":case"right":return e?n:a;default:return[]}}function E(t,e,s,i){const o=A(t);let n=T(k(t),s==="start",i);if(o){n=n.map((t=>t+"-"+o));if(e){n=n.concat(n.map(C))}}return n}function F(t){return t.replace(/left|right|bottom|top/g,(t=>b[t]))}function M(t){return{top:0,right:0,bottom:0,left:0,...t}}function $(t){return typeof t!=="number"?M(t):{top:t,right:t,bottom:t,left:t}}function H(t){const{x:e,y:s,width:i,height:o}=t;return{width:i,height:o,top:s,left:e,right:e+i,bottom:s+o,x:e,y:s}}function j(t,e,s){let{reference:i,floating:o}=t;const n=O(e);const a=D(e);const l=L(a);const r=k(e);const c=n==="y";const d=i.x+i.width/2-o.width/2;const h=i.y+i.height/2-o.height/2;const f=i[l]/2-o[l]/2;let u;switch(r){case"top":u={x:d,y:i.y-o.height};break;case"bottom":u={x:d,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:h};break;case"left":u={x:i.x-o.width,y:h};break;default:u={x:i.x,y:i.y}}switch(A(e)){case"start":u[a]-=f*(s&&c?-1:1);break;case"end":u[a]+=f*(s&&c?-1:1);break}return u}const I=async(t,e,s)=>{const{placement:i="bottom",strategy:o="absolute",middleware:n=[],platform:a}=s;const l=n.filter(Boolean);const r=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:o});let{x:d,y:h}=j(c,i,r);let f=i;let u={};let p=0;for(let s=0;s<l.length;s++){const{name:n,fn:m}=l[s];const{x:g,y:v,data:y,reset:b}=await m({x:d,y:h,initialPlacement:i,placement:f,strategy:o,middlewareData:u,rects:c,platform:a,elements:{reference:t,floating:e}});d=g!=null?g:d;h=v!=null?v:h;u={...u,[n]:{...u[n],...y}};if(b&&p<=50){p++;if(typeof b==="object"){if(b.placement){f=b.placement}if(b.rects){c=b.rects===true?await a.getElementRects({reference:t,floating:e,strategy:o}):b.rects}({x:d,y:h}=j(c,f,r))}s=-1}}return{x:d,y:h,placement:f,strategy:o,middlewareData:u}};async function W(t,e){var s;if(e===void 0){e={}}const{x:i,y:o,platform:n,rects:a,elements:l,strategy:r}=t;const{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=false,padding:u=0}=z(e,t);const p=$(u);const m=h==="floating"?"reference":"floating";const g=l[f?m:h];const v=H(await n.getClippingRect({element:((s=await(n.isElement==null?void 0:n.isElement(g)))!=null?s:true)?g:g.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:r}));const y=h==="floating"?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference;const b=await(n.getOffsetParent==null?void 0:n.getOffsetParent(l.floating));const w=await(n.isElement==null?void 0:n.isElement(b))?await(n.getScale==null?void 0:n.getScale(b))||{x:1,y:1}:{x:1,y:1};const x=H(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:r}):y);return{top:(v.top-x.top+p.top)/w.y,bottom:(x.bottom-v.bottom+p.bottom)/w.y,left:(v.left-x.left+p.left)/w.x,right:(x.right-v.right+p.right)/w.x}}const B=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:i,placement:o,rects:n,platform:a,elements:l,middlewareData:r}=e;const{element:c,padding:d=0}=z(t,e)||{};if(c==null){return{}}const h=$(d);const f={x:s,y:i};const u=D(o);const m=L(u);const g=await a.getDimensions(c);const v=u==="y";const y=v?"top":"left";const b=v?"bottom":"right";const w=v?"clientHeight":"clientWidth";const k=n.reference[m]+n.reference[u]-f[u]-n.floating[m];const S=f[u]-n.reference[u];const O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let R=O?O[w]:0;if(!R||!await(a.isElement==null?void 0:a.isElement(O))){R=l.floating[w]||n.floating[m]}const P=k/2-S/2;const C=R/2-g[m]/2-1;const T=p(h[y],C);const E=p(h[b],C);const F=T;const M=R-g[m]-E;const H=R/2-g[m]/2+P;const j=x(F,H,M);const I=!r.arrow&&A(o)!=null&&H!==j&&n.reference[m]/2-(H<F?T:E)-g[m]/2<0;const W=I?H<F?H-F:H-M:0;return{[u]:f[u]+W,data:{[u]:j,centerOffset:H-j-W,...I&&{alignmentOffset:W}},reset:I}}});function K(t,e,s){const i=t?[...s.filter((e=>A(e)===t)),...s.filter((e=>A(e)!==t))]:s.filter((t=>k(t)===t));return i.filter((s=>{if(t){return A(s)===t||(e?C(s)!==s:false)}return true}))}const V=function(t){if(t===void 0){t={}}return{name:"autoPlacement",options:t,async fn(e){var s,i,o;const{rects:n,middlewareData:a,placement:l,platform:r,elements:c}=e;const{crossAxis:d=false,alignment:h,allowedPlacements:f=u,autoAlignment:p=true,...m}=z(t,e);const g=h!==undefined||f===u?K(h||null,p,f):f;const v=await W(e,m);const y=((s=a.autoPlacement)==null?void 0:s.index)||0;const b=g[y];if(b==null){return{}}const w=R(b,n,await(r.isRTL==null?void 0:r.isRTL(c.floating)));if(l!==b){return{reset:{placement:g[0]}}}const x=[v[k(b)],v[w[0]],v[w[1]]];const S=[...((i=a.autoPlacement)==null?void 0:i.overflows)||[],{placement:b,overflows:x}];const L=g[y+1];if(L){return{data:{index:y+1,overflows:S},reset:{placement:L}}}const O=S.map((t=>{const e=A(t.placement);return[t.placement,e&&d?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1]));const D=O.filter((t=>t[2].slice(0,A(t[0])?2:3).every((t=>t<=0))));const P=((o=D[0])==null?void 0:o[0])||O[0][0];if(P!==l){return{data:{index:y+1,overflows:S},reset:{placement:P}}}return{}}}};const q=function(t){if(t===void 0){t={}}return{name:"flip",options:t,async fn(e){var s,i;const{placement:o,middlewareData:n,rects:a,initialPlacement:l,platform:r,elements:c}=e;const{mainAxis:d=true,crossAxis:h=true,fallbackPlacements:f,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=true,...g}=z(t,e);if((s=n.arrow)!=null&&s.alignmentOffset){return{}}const v=k(o);const y=O(l);const b=k(l)===l;const w=await(r.isRTL==null?void 0:r.isRTL(c.floating));const x=f||(b||!m?[F(l)]:P(l));const A=p!=="none";if(!f&&A){x.push(...E(l,m,p,w))}const S=[l,...x];const L=await W(e,g);const D=[];let C=((i=n.flip)==null?void 0:i.overflows)||[];if(d){D.push(L[v])}if(h){const t=R(o,a,w);D.push(L[t[0]],L[t[1]])}C=[...C,{placement:o,overflows:D}];if(!D.every((t=>t<=0))){var T,M;const t=(((T=n.flip)==null?void 0:T.index)||0)+1;const e=S[t];if(e){return{data:{index:t,overflows:C},reset:{placement:e}}}let s=(M=C.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])==null?void 0:M.placement;if(!s){switch(u){case"bestFit":{var $;const t=($=C.filter((t=>{if(A){const e=O(t.placement);return e===y||e==="y"}return true})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])==null?void 0:$[0];if(t){s=t}break}case"initialPlacement":s=l;break}}if(o!==s){return{reset:{placement:s}}}}return{}}}};function N(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Y(t){return h.some((e=>t[e]>=0))}const _=function(t){if(t===void 0){t={}}return{name:"hide",options:t,async fn(e){const{rects:s}=e;const{strategy:i="referenceHidden",...o}=z(t,e);switch(i){case"referenceHidden":{const t=await W(e,{...o,elementContext:"reference"});const i=N(t,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Y(i)}}}case"escaped":{const t=await W(e,{...o,altBoundary:true});const i=N(t,s.floating);return{data:{escapedOffsets:i,escaped:Y(i)}}}default:{return{}}}}}};function U(t){const e=p(...t.map((t=>t.left)));const s=p(...t.map((t=>t.top)));const i=m(...t.map((t=>t.right)));const o=m(...t.map((t=>t.bottom)));return{x:e,y:s,width:i-e,height:o-s}}function X(t){const e=t.slice().sort(((t,e)=>t.y-e.y));const s=[];let i=null;for(let t=0;t<e.length;t++){const o=e[t];if(!i||o.y-i.y>i.height/2){s.push([o])}else{s[s.length-1].push(o)}i=o}return s.map((t=>H(U(t))))}const Z=function(t){if(t===void 0){t={}}return{name:"inline",options:t,async fn(e){const{placement:s,elements:i,rects:o,platform:n,strategy:a}=e;const{padding:l=2,x:r,y:c}=z(t,e);const d=Array.from(await(n.getClientRects==null?void 0:n.getClientRects(i.reference))||[]);const h=X(d);const f=H(U(d));const u=$(l);function g(){if(h.length===2&&h[0].left>h[1].right&&r!=null&&c!=null){return h.find((t=>r>t.left-u.left&&r<t.right+u.right&&c>t.top-u.top&&c<t.bottom+u.bottom))||f}if(h.length>=2){if(O(s)==="y"){const t=h[0];const e=h[h.length-1];const i=k(s)==="top";const o=t.top;const n=e.bottom;const a=i?t.left:e.left;const l=i?t.right:e.right;const r=l-a;const c=n-o;return{top:o,bottom:n,left:a,right:l,width:r,height:c,x:a,y:o}}const t=k(s)==="left";const e=m(...h.map((t=>t.right)));const i=p(...h.map((t=>t.left)));const o=h.filter((s=>t?s.left===i:s.right===e));const n=o[0].top;const a=o[o.length-1].bottom;const l=i;const r=e;const c=r-l;const d=a-n;return{top:n,bottom:a,left:l,right:r,width:c,height:d,x:l,y:n}}return f}const v=await n.getElementRects({reference:{getBoundingClientRect:g},floating:i.floating,strategy:a});if(o.reference.x!==v.reference.x||o.reference.y!==v.reference.y||o.reference.width!==v.reference.width||o.reference.height!==v.reference.height){return{reset:{rects:v}}}return{}}}};async function G(t,e){const{placement:s,platform:i,elements:o}=t;const n=await(i.isRTL==null?void 0:i.isRTL(o.floating));const a=k(s);const l=A(s);const r=O(s)==="y";const c=["left","top"].includes(a)?-1:1;const d=n&&r?-1:1;const h=z(e,t);let{mainAxis:f,crossAxis:u,alignmentAxis:p}=typeof h==="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};if(l&&typeof p==="number"){u=l==="end"?p*-1:p}return r?{x:u*d,y:f*c}:{x:f*c,y:u*d}}const J=function(t){if(t===void 0){t=0}return{name:"offset",options:t,async fn(e){var s,i;const{x:o,y:n,placement:a,middlewareData:l}=e;const r=await G(e,t);if(a===((s=l.offset)==null?void 0:s.placement)&&(i=l.arrow)!=null&&i.alignmentOffset){return{}}return{x:o+r.x,y:n+r.y,data:{...r,placement:a}}}}};const Q=function(t){if(t===void 0){t={}}return{name:"shift",options:t,async fn(e){const{x:s,y:i,placement:o}=e;const{mainAxis:n=true,crossAxis:a=false,limiter:l={fn:t=>{let{x:e,y:s}=t;return{x:e,y:s}}},...r}=z(t,e);const c={x:s,y:i};const d=await W(e,r);const h=O(k(o));const f=S(h);let u=c[f];let p=c[h];if(n){const t=f==="y"?"top":"left";const e=f==="y"?"bottom":"right";const s=u+d[t];const i=u-d[e];u=x(s,u,i)}if(a){const t=h==="y"?"top":"left";const e=h==="y"?"bottom":"right";const s=p+d[t];const i=p-d[e];p=x(s,p,i)}const m=l.fn({...e,[f]:u,[h]:p});return{...m,data:{x:m.x-s,y:m.y-i}}}}};const tt=function(t){if(t===void 0){t={}}return{options:t,fn(e){const{x:s,y:i,placement:o,rects:n,middlewareData:a}=e;const{offset:l=0,mainAxis:r=true,crossAxis:c=true}=z(t,e);const d={x:s,y:i};const h=O(o);const f=S(h);let u=d[f];let p=d[h];const m=z(l,e);const g=typeof m==="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(r){const t=f==="y"?"height":"width";const e=n.reference[f]-n.floating[t]+g.mainAxis;const s=n.reference[f]+n.reference[t]-g.mainAxis;if(u<e){u=e}else if(u>s){u=s}}if(c){var v,y;const t=f==="y"?"width":"height";const e=["top","left"].includes(k(o));const s=n.reference[h]-n.floating[t]+(e?((v=a.offset)==null?void 0:v[h])||0:0)+(e?0:g.crossAxis);const i=n.reference[h]+n.reference[t]+(e?0:((y=a.offset)==null?void 0:y[h])||0)-(e?g.crossAxis:0);if(p<s){p=s}else if(p>i){p=i}}return{[f]:u,[h]:p}}}};const et=function(t){if(t===void 0){t={}}return{name:"size",options:t,async fn(e){const{placement:s,rects:i,platform:o,elements:n}=e;const{apply:a=(()=>{}),...l}=z(t,e);const r=await W(e,l);const c=k(s);const d=A(s);const h=O(s)==="y";const{width:f,height:u}=i.floating;let g;let v;if(c==="top"||c==="bottom"){g=c;v=d===(await(o.isRTL==null?void 0:o.isRTL(n.floating))?"start":"end")?"left":"right"}else{v=c;g=d==="end"?"top":"bottom"}const y=u-r.top-r.bottom;const b=f-r.left-r.right;const w=p(u-r[g],y);const x=p(f-r[v],b);const S=!e.middlewareData.shift;let L=w;let D=x;if(h){D=d||S?p(x,b):b}else{L=d||S?p(w,y):y}if(S&&!d){const t=m(r.left,0);const e=m(r.right,0);const s=m(r.top,0);const i=m(r.bottom,0);if(h){D=f-2*(t!==0||e!==0?t+e:m(r.left,r.right))}else{L=u-2*(s!==0||i!==0?s+i:m(r.top,r.bottom))}}await a({...e,availableWidth:D,availableHeight:L});const R=await o.getDimensions(n.floating);if(f!==R.width||u!==R.height){return{reset:{rects:true}}}return{}}}};function st(t){if(nt(t)){return(t.nodeName||"").toLowerCase()}return"#document"}function it(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ot(t){var e;return(e=(nt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nt(t){return t instanceof Node||t instanceof it(t).Node}function at(t){return t instanceof Element||t instanceof it(t).Element}function lt(t){return t instanceof HTMLElement||t instanceof it(t).HTMLElement}function rt(t){if(typeof ShadowRoot==="undefined"){return false}return t instanceof ShadowRoot||t instanceof it(t).ShadowRoot}function ct(t){const{overflow:e,overflowX:s,overflowY:i,display:o}=gt(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+s)&&!["inline","contents"].includes(o)}function dt(t){return["table","td","th"].includes(st(t))}function ht(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return false}}))}function ft(t){const e=pt();const s=at(t)?gt(t):t;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":false)||!e&&(s.backdropFilter?s.backdropFilter!=="none":false)||!e&&(s.filter?s.filter!=="none":false)||["transform","perspective","filter"].some((t=>(s.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(s.contain||"").includes(t)))}function ut(t){let e=yt(t);while(lt(e)&&!mt(e)){if(ft(e)){return e}else if(ht(e)){return null}e=yt(e)}return null}function pt(){if(typeof CSS==="undefined"||!CSS.supports)return false;return CSS.supports("-webkit-backdrop-filter","none")}function mt(t){return["html","body","#document"].includes(st(t))}function gt(t){return it(t).getComputedStyle(t)}function vt(t){if(at(t)){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}return{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yt(t){if(st(t)==="html"){return t}const e=t.assignedSlot||t.parentNode||rt(t)&&t.host||ot(t);return rt(e)?e.host:e}function bt(t){const e=yt(t);if(mt(e)){return t.ownerDocument?t.ownerDocument.body:t.body}if(lt(e)&&ct(e)){return e}return bt(e)}function wt(t,e,s){var i;if(e===void 0){e=[]}if(s===void 0){s=true}const o=bt(t);const n=o===((i=t.ownerDocument)==null?void 0:i.body);const a=it(o);if(n){const t=xt(a);return e.concat(a,a.visualViewport||[],ct(o)?o:[],t&&s?wt(t):[])}return e.concat(o,wt(o,[],s))}function xt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zt(t){const e=gt(t);let s=parseFloat(e.width)||0;let i=parseFloat(e.height)||0;const o=lt(t);const n=o?t.offsetWidth:s;const a=o?t.offsetHeight:i;const l=g(s)!==n||g(i)!==a;if(l){s=n;i=a}return{width:s,height:i,$:l}}function kt(t){return!at(t)?t.contextElement:t}function At(t){const e=kt(t);if(!lt(e)){return y(1)}const s=e.getBoundingClientRect();const{width:i,height:o,$:n}=zt(e);let a=(n?g(s.width):s.width)/i;let l=(n?g(s.height):s.height)/o;if(!a||!Number.isFinite(a)){a=1}if(!l||!Number.isFinite(l)){l=1}return{x:a,y:l}}const St=y(0);function Lt(t){const e=it(t);if(!pt()||!e.visualViewport){return St}return{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ot(t,e,s){if(e===void 0){e=false}if(!s||e&&s!==it(t)){return false}return e}function Dt(t,e,s,i){if(e===void 0){e=false}if(s===void 0){s=false}const o=t.getBoundingClientRect();const n=kt(t);let a=y(1);if(e){if(i){if(at(i)){a=At(i)}}else{a=At(t)}}const l=Ot(n,s,i)?Lt(n):y(0);let r=(o.left+l.x)/a.x;let c=(o.top+l.y)/a.y;let d=o.width/a.x;let h=o.height/a.y;if(n){const t=it(n);const e=i&&at(i)?it(i):i;let s=t;let o=xt(s);while(o&&i&&e!==s){const t=At(o);const e=o.getBoundingClientRect();const i=gt(o);const n=e.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x;const a=e.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;r*=t.x;c*=t.y;d*=t.x;h*=t.y;r+=n;c+=a;s=it(o);o=xt(s)}}return H({width:d,height:h,x:r,y:c})}function Rt(t){let{elements:e,rect:s,offsetParent:i,strategy:o}=t;const n=o==="fixed";const a=ot(i);const l=e?ht(e.floating):false;if(i===a||l&&n){return s}let r={scrollLeft:0,scrollTop:0};let c=y(1);const d=y(0);const h=lt(i);if(h||!h&&!n){if(st(i)!=="body"||ct(a)){r=vt(i)}if(lt(i)){const t=Dt(i);c=At(i);d.x=t.x+i.clientLeft;d.y=t.y+i.clientTop}}return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-r.scrollLeft*c.x+d.x,y:s.y*c.y-r.scrollTop*c.y+d.y}}function Pt(t){return Array.from(t.getClientRects())}function Ct(t){return Dt(ot(t)).left+vt(t).scrollLeft}function Tt(t){const e=ot(t);const s=vt(t);const i=t.ownerDocument.body;const o=m(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth);const n=m(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-s.scrollLeft+Ct(t);const l=-s.scrollTop;if(gt(i).direction==="rtl"){a+=m(e.clientWidth,i.clientWidth)-o}return{width:o,height:n,x:a,y:l}}function Et(t,e){const s=it(t);const i=ot(t);const o=s.visualViewport;let n=i.clientWidth;let a=i.clientHeight;let l=0;let r=0;if(o){n=o.width;a=o.height;const t=pt();if(!t||t&&e==="fixed"){l=o.offsetLeft;r=o.offsetTop}}return{width:n,height:a,x:l,y:r}}function Ft(t,e){const s=Dt(t,true,e==="fixed");const i=s.top+t.clientTop;const o=s.left+t.clientLeft;const n=lt(t)?At(t):y(1);const a=t.clientWidth*n.x;const l=t.clientHeight*n.y;const r=o*n.x;const c=i*n.y;return{width:a,height:l,x:r,y:c}}function Mt(t,e,s){let i;if(e==="viewport"){i=Et(t,s)}else if(e==="document"){i=Tt(ot(t))}else if(at(e)){i=Ft(e,s)}else{const s=Lt(t);i={...e,x:e.x-s.x,y:e.y-s.y}}return H(i)}function $t(t,e){const s=yt(t);if(s===e||!at(s)||mt(s)){return false}return gt(s).position==="fixed"||$t(s,e)}function Ht(t,e){const s=e.get(t);if(s){return s}let i=wt(t,[],false).filter((t=>at(t)&&st(t)!=="body"));let o=null;const n=gt(t).position==="fixed";let a=n?yt(t):t;while(at(a)&&!mt(a)){const e=gt(a);const s=ft(a);if(!s&&e.position==="fixed"){o=null}const l=n?!s&&!o:!s&&e.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ct(a)&&!s&&$t(t,a);if(l){i=i.filter((t=>t!==a))}else{o=e}a=yt(a)}e.set(t,i);return i}function jt(t){let{element:e,boundary:s,rootBoundary:i,strategy:o}=t;const n=s==="clippingAncestors"?ht(e)?[]:Ht(e,this._c):[].concat(s);const a=[...n,i];const l=a[0];const r=a.reduce(((t,s)=>{const i=Mt(e,s,o);t.top=m(i.top,t.top);t.right=p(i.right,t.right);t.bottom=p(i.bottom,t.bottom);t.left=m(i.left,t.left);return t}),Mt(e,l,o));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function It(t){const{width:e,height:s}=zt(t);return{width:e,height:s}}function Wt(t,e,s){const i=lt(e);const o=ot(e);const n=s==="fixed";const a=Dt(t,true,n,e);let l={scrollLeft:0,scrollTop:0};const r=y(0);if(i||!i&&!n){if(st(e)!=="body"||ct(o)){l=vt(e)}if(i){const t=Dt(e,true,n,e);r.x=t.x+e.clientLeft;r.y=t.y+e.clientTop}else if(o){r.x=Ct(o)}}const c=a.left+l.scrollLeft-r.x;const d=a.top+l.scrollTop-r.y;return{x:c,y:d,width:a.width,height:a.height}}function Bt(t){return gt(t).position==="static"}function Kt(t,e){if(!lt(t)||gt(t).position==="fixed"){return null}if(e){return e(t)}return t.offsetParent}function Vt(t,e){const s=it(t);if(ht(t)){return s}if(!lt(t)){let e=yt(t);while(e&&!mt(e)){if(at(e)&&!Bt(e)){return e}e=yt(e)}return s}let i=Kt(t,e);while(i&&dt(i)&&Bt(i)){i=Kt(i,e)}if(i&&mt(i)&&Bt(i)&&!ft(i)){return s}return i||ut(t)||s}const qt=async function(t){const e=this.getOffsetParent||Vt;const s=this.getDimensions;const i=await s(t.floating);return{reference:Wt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Nt(t){return gt(t).direction==="rtl"}const Yt={convertOffsetParentRelativeRectToViewportRelativeRect:Rt,getDocumentElement:ot,getClippingRect:jt,getOffsetParent:Vt,getElementRects:qt,getClientRects:Pt,getDimensions:It,getScale:At,isElement:at,isRTL:Nt};function _t(t,e){let s=null;let i;const o=ot(t);function n(){var t;clearTimeout(i);(t=s)==null||t.disconnect();s=null}function a(l,r){if(l===void 0){l=false}if(r===void 0){r=1}n();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(!l){e()}if(!h||!f){return}const u=v(d);const g=v(o.clientWidth-(c+h));const y=v(o.clientHeight-(d+f));const b=v(c);const w=-u+"px "+-g+"px "+-y+"px "+-b+"px";const x={rootMargin:w,threshold:m(0,p(1,r))||1};let z=true;function k(t){const e=t[0].intersectionRatio;if(e!==r){if(!z){return a()}if(!e){i=setTimeout((()=>{a(false,1e-7)}),1e3)}else{a(false,e)}}z=false}try{s=new IntersectionObserver(k,{...x,root:o.ownerDocument})}catch(t){s=new IntersectionObserver(k,x)}s.observe(t)}a(true);return n}function Ut(t,e,s,i){if(i===void 0){i={}}const{ancestorScroll:o=true,ancestorResize:n=true,elementResize:a=typeof ResizeObserver==="function",layoutShift:l=typeof IntersectionObserver==="function",animationFrame:r=false}=i;const c=kt(t);const d=o||n?[...c?wt(c):[],...wt(e)]:[];d.forEach((t=>{o&&t.addEventListener("scroll",s,{passive:true});n&&t.addEventListener("resize",s)}));const h=c&&l?_t(c,s):null;let f=-1;let u=null;if(a){u=new ResizeObserver((t=>{let[i]=t;if(i&&i.target===c&&u){u.unobserve(e);cancelAnimationFrame(f);f=requestAnimationFrame((()=>{var t;(t=u)==null||t.observe(e)}))}s()}));if(c&&!r){u.observe(c)}u.observe(e)}let p;let m=r?Dt(t):null;if(r){g()}function g(){const e=Dt(t);if(m&&(e.x!==m.x||e.y!==m.y||e.width!==m.width||e.height!==m.height)){s()}m=e;p=requestAnimationFrame(g)}s();return()=>{var t;d.forEach((t=>{o&&t.removeEventListener("scroll",s);n&&t.removeEventListener("resize",s)}));h==null||h();(t=u)==null||t.disconnect();u=null;if(r){cancelAnimationFrame(p)}}}const Xt=J;const Zt=V;const Gt=Q;q;const Jt=et;_;B;Z;tt;const Qt=(t,e,s)=>{const i=new Map;const o={platform:Yt,...s};const n={...o.platform,_c:i};return I(t,e,{...o,platform:n})};const te=(t,e)=>{let s;return(...i)=>{const o=()=>{s=null;t.apply(undefined,i)};clearTimeout(s);s=setTimeout(o,e)}};const ee=':host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{position:relative;outline:none;font-weight:var(--field-input-weight);font-size:var(--field-input-size);line-height:var(--field-input-leading);cursor:text}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){width:100%;margin:0;padding:0;border:none;background-color:transparent;color:inherit;font-weight:inherit;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;cursor:inherit}:host ::slotted(label){cursor:inherit}:host input:focus,:host ::slotted(input:focus),:host textarea:focus,:host ::slotted(textarea:focus){outline:none}:host input::-moz-placeholder,:host textarea::-moz-placeholder{color:var(--field-placeholder-text-color)}:host input::placeholder,:host textarea::placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::-moz-placeholder,:host ::slotted(textarea)::-moz-placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::placeholder,:host ::slotted(textarea)::placeholder{color:var(--field-placeholder-text-color)}:host([size=\'small\']){font-size:var(--core-type-paragraph-20-size);line-height:var(--core-type-paragraph-20-leading)}:host{border-radius:var(--field-border-radius);background-color:var(--field-normal-state-background-color);color:var(--field-normal-state-input-color)}:host::after{content:"";position:absolute;inset:0;border-radius:var(--field-border-radius);box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color);pointer-events:none}:host([invalid])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-invalid-validity-border-color)}:host(:hover){background-color:var(--field-hover-state-background-color);color:var(--field-hover-state-input-color)}:host(:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-normal-validity-border-color)}:host([invalid]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-invalid-validity-border-color)}:host([focused]){color:var(--field-focus-state-input-color)}:host([focused])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size)\n        var(--field-focus-state-normal-validity-border-color)}:host([focused][invalid])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size) var(--field-focus-state-invalid-validity-border-color)}:host([readonly]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color)}:host([disabled]){background-color:var(--field-disabled-state-background-color) !important;color:var(--field-disabled-state-input-color) !important;cursor:not-allowed !important}:host([disabled])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-disabled-state-border-color) !important}:host([disabled]) ::slotted(.market-accessory),:host([disabled]) ::slotted(img[slot*="accessory"]),:host([disabled]) ::slotted(svg[slot*="accessory"]),:host([disabled]) ::slotted(div[slot*="accessory"]){--field-disabled-state-accessory-opacity:var(--row-disabled-state-leading-accessory-opacity);opacity:var(--field-disabled-state-accessory-opacity)}:host([value=""]) ::slotted(label){color:var(--field-normal-state-empty-phase-label-color)}:host(:not([value=""])) ::slotted(label),:host([value=""][autofilled]) ::slotted(label){color:var(--field-normal-state-float-phase-label-color)}:host(:hover) ::slotted(label){color:var(--field-hover-state-empty-phase-label-color)}:host(:not([value=""]):hover) ::slotted(label),:host([value=""][autofilled]:hover) ::slotted(label){color:var(--field-hover-state-float-phase-label-color)}:host([focused]) ::slotted(label){color:var(--field-focus-state-float-phase-label-color)}:host([value=""][disabled]) ::slotted(label){color:var(--field-disabled-state-empty-phase-label-color)}:host(:not([value=""])[disabled]) ::slotted(label),:host([value=""][autofilled][disabled]) ::slotted(label){color:var(--field-disabled-state-float-phase-label-color)}:host{--field-accessory-horizontal-spacing-size:16px;--field-size-small-accessory-horizontal-spacing-size:12px;--field-size-large-image-accessory-outer-spacing-size:12px;--field-size-medium-image-accessory-outer-spacing-size:4px;--field-size-large-button-accessory-outer-spacing-size:12px;--field-size-medium-button-accessory-outer-spacing-size:4px;--field-size-large-tooltip-accessory-horizontal-spacing-size:5px;--field-size-large-tooltip-accessory-vertical-spacing-size:-1px;--field-size-small-tooltip-accessory-horizontal-spacing-size:1px}:host ::slotted([slot="leading-accessory"]){flex-shrink:0;margin-right:var(--field-accessory-horizontal-spacing-size);margin-left:var(--field-accessory-horizontal-spacing-size)}:host ::slotted(.market-accessory[slot="leading-accessory"][size="image"]){margin-left:var(--field-size-large-image-accessory-outer-spacing-size)}:host ::slotted(.market-tooltip[slot="leading-accessory"]){margin:var(--field-size-large-tooltip-accessory-vertical-spacing-size)\n      var(--field-size-large-tooltip-accessory-horizontal-spacing-size)}:host ::slotted(.market-button[slot="leading-accessory"][size="small"]){margin-left:var(--field-size-large-button-accessory-outer-spacing-size)}:host ::slotted([slot="trailing-accessory"]){flex-shrink:0;margin-right:var(--field-accessory-horizontal-spacing-size);margin-left:var(--field-accessory-horizontal-spacing-size)}:host ::slotted(.market-accessory[slot="trailing-accessory"][size="image"]){margin-right:var(--field-size-large-image-accessory-outer-spacing-size)}:host ::slotted(.market-tooltip[slot="trailing-accessory"]){margin:var(--field-size-large-tooltip-accessory-vertical-spacing-size)\n      var(--field-size-large-tooltip-accessory-horizontal-spacing-size)}:host ::slotted(.market-button[slot="trailing-accessory"][size="small"]){margin-right:var(--field-size-large-button-accessory-outer-spacing-size)}:host([size=\'medium\']) ::slotted(.market-accessory[slot="leading-accessory"][size="image"]){margin-left:var(--field-size-medium-image-accessory-outer-spacing-size)}:host([size=\'medium\']) ::slotted(.market-button[slot="leading-accessory"][size="small"]){margin-left:var(--field-size-medium-button-accessory-outer-spacing-size)}:host([size=\'medium\']) ::slotted(.market-accessory[slot="trailing-accessory"][size="image"]){margin-right:var(--field-size-medium-image-accessory-outer-spacing-size)}:host([size=\'medium\']) ::slotted(.market-button[slot="trailing-accessory"][size="small"]){margin-right:var(--field-size-medium-button-accessory-outer-spacing-size)}:host([size=\'small\']) ::slotted([slot="leading-accessory"]),:host([size=\'small\']) ::slotted([slot="trailing-accessory"]){margin-right:var(--field-size-small-accessory-horizontal-spacing-size);margin-left:var(--field-size-small-accessory-horizontal-spacing-size)}:host([size=\'small\']) ::slotted(.market-tooltip[slot="leading-accessory"]),:host([size=\'small\']) ::slotted(.market-tooltip[slot="trailing-accessory"]){margin-right:var(--field-size-small-tooltip-accessory-horizontal-spacing-size);margin-left:var(--field-size-small-tooltip-accessory-horizontal-spacing-size)}:host .label-input-container.has-leading-accessory{padding-left:0 !important;}:host .label-input-container.has-trailing-accessory{padding-right:0 !important;}:host{--field-input-animation-speed:0.2s;--field-input-label-translate:12px;--field-empty-phase-label-text-size-unitless:16;--field-float-phase-label-text-size-unitless:14;--field-size-medium-float-phase-vertical-padding-size:12px;--field-size-medium-float-phase-horizontal-padding-size:16px;--field-size-small-float-phase-vertical-padding-size:9px;--field-size-small-float-phase-horizontal-padding-size:12px;display:flex;align-items:center}:host .label-input-container,:host([value=\'\']:not([focused]):not([autofilled])) .label-input-container{flex-grow:1;padding:var(--field-float-phase-vertical-padding-size) var(--field-float-phase-horizontal-padding-size)}:host([size=\'medium\']) .label-input-container,:host([size=\'medium\'][value=\'\']:not([focused]):not([autofilled])) .label-input-container{padding:var(--field-size-medium-float-phase-vertical-padding-size)\n      var(--field-size-medium-float-phase-horizontal-padding-size)}:host([size=\'small\']) .label-input-container,:host([size=\'small\'][value=\'\']:not([focused]):not([autofilled])) .label-input-container{padding:var(--field-size-small-float-phase-vertical-padding-size)\n      var(--field-size-small-float-phase-horizontal-padding-size)}:host ::slotted(label){display:block;min-height:var(--field-empty-phase-label-text-leading);font-weight:var(--field-empty-phase-label-text-weight);font-size:var(--field-empty-phase-label-text-size);line-height:var(--field-empty-phase-label-text-leading);letter-spacing:var(--field-empty-phase-label-text-tracking);transition:all var(--field-input-animation-speed);transform:translateY(var(--field-input-label-translate));transform-origin:0 0}:host(:not([value=""])) ::slotted(label),:host([value=""]:not([focused])[autofilled]) ::slotted(label),:host([focused]) ::slotted(label){font-weight:var(--field-float-phase-label-text-weight);transform:scale(\n        calc(var(--field-float-phase-label-text-size-unitless) / var(--field-empty-phase-label-text-size-unitless))\n      )}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){opacity:0%}:host([focused]) input,:host([focused]) ::slotted(input),:host([focused]) textarea,:host([focused]) ::slotted(textarea),:host(:not([value=\'\'])) input,:host(:not([value=\'\'])) ::slotted(input),:host(:not([value=\'\'])) textarea,:host(:not([value=\'\'])) ::slotted(textarea){opacity:100%}:host([size=\'small\']) ::slotted(label),:host([size=\'medium\']) ::slotted(label){position:absolute;overflow:hidden;clip:rect(0 0 0 0);width:1px;height:1px;white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host([size=\'small\']) input,:host([size=\'small\']) ::slotted(input),:host([size=\'small\']) textarea,:host([size=\'small\']) ::slotted(textarea),:host([size=\'medium\']) input,:host([size=\'medium\']) ::slotted(input),:host([size=\'medium\']) textarea,:host([size=\'medium\']) ::slotted(textarea){opacity:100%}:host{cursor:pointer}.label-input-container{overflow:hidden}.caret{flex-shrink:0;margin-right:var(--field-float-phase-horizontal-padding-size);pointer-events:none;transition:transform var(--field-input-animation-speed)}.caret path{fill:var(--select-caret-color)}:host([aria-expanded="true"]) .caret{transform:rotate(180deg)}.placeholder{overflow:hidden;height:var(--field-input-leading);color:var(--field-placeholder-text-color);font-size:var(--field-input-size);line-height:var(--field-input-leading);text-overflow:ellipsis;white-space:nowrap;visibility:hidden}:host([focused]) .placeholder,:host([size="small"]) .placeholder,:host([size="medium"]) .placeholder{visibility:visible}:host([size="small"]) .placeholder{height:var(--core-type-paragraph-20-leading);font-size:var(--core-type-paragraph-20-size);line-height:var(--core-type-paragraph-20-leading)}::slotted(label){cursor:pointer}::slotted([slot="displayed-selection"]){min-height:0;margin:0}::slotted([slot="displayed-selection"])::before,::slotted([slot="displayed-selection"])::after{display:none}::slotted([slot="list"]){display:none}';const se=ee;const ie=-1;const oe=1;const ne=class{constructor(s){t(this,s);this.marketSelectValueDidChange=e(this,"marketSelectValueDidChange",7);this.marketSelectOpened=e(this,"marketSelectOpened",7);this.marketSelectClosed=e(this,"marketSelectClosed",7);this.rowsInnerText=[];this.keypresses=[];this.debounceDelay=250;this.setFocusOnMatch=te((()=>{const t=this.keypresses.join("");const e=[...this.rowsInnerText.slice(this.focusedRowIndex+1),...this.rowsInnerText.slice(0,this.focusedRowIndex+1)].find((e=>e.startsWith(t)));const s=this.rowsInnerText.findIndex((t=>t.startsWith(e)));const i=this.rows[s];if(i&&!i.disabled){this.focusedRowIndex=s;if(!this.listIsActive&&!this.multiselect){this.value=i.value;this.marketSelectValueDidChange.emit({value:this.value,newSelectedOption:i,newDeselectedOption:null,currentSelectedOptions:[i]})}}this.keypresses=[]}),this.debounceDelay);this.list=null;this.rows=null;this.popoverElement=null;this.name=undefined;this.value="";this.size="large";this.placeholder=undefined;this.readonly=false;this.disabled=false;this.focused=false;this.invalid=false;this.required=false;this.multiselect=false;this.popoverContainer=undefined;this.popoverStrategy="absolute";this.listIsActive=false;this.focusedRowIndex=-1;this.hasLeadingAccessory=false;this.hasTrailingAccessory=false}valueWatcher(){this.propagateValue()}multiselectWatcher(){this.list.multiselect=this.multiselect}focusedRowIndexWatcher(){var t;if(this.rows){this.rows.forEach((t=>t.classList.remove("pseudo-focus")));(t=this.rows[this.focusedRowIndex])===null||t===void 0?void 0:t.classList.add("pseudo-focus")}}handleListSelection({detail:{currentSelectionValues:t,currentSelections:e,newDeselection:s,newSelection:i}}){const o=t.join(",");this.value=o;if(this.multiselect){this.setFocusedRow(s||i)}else{this.setFocusedRow(i)}this.marketSelectValueDidChange.emit({value:o,newSelectedOption:i,newDeselectedOption:s,currentSelectedOptions:e})}handleListItemsFiltered(){window.requestAnimationFrame((()=>{if(this.listIsActive){this.updatePopper()}}))}windowClick(t){var e;if(this.el.contains(t.target)||((e=this.popoverElement)===null||e===void 0?void 0:e.contains(t.target))){return}this.focused=false;if(this.listIsActive){this.closeList()}}getValues(){if(Array.isArray(this.value)){return new Set(this.value)}return new Set(this.multiselect?this.value.split(","):[this.value])}getValuesCount(){return this.getValues().size}getMatchingRows(){if(this.rows===null){return[]}else{const t=this.getValues();return[...this.rows].filter((e=>t.has(e.value)))}}get hasMultipleSelections(){return this.multiselect&&this.getValues().size>1}getMultiselectDisplayValue(){const t=this.getValues();return t.size>1?`${t.size} selected`:""}getDisplayedSelectionRow(){return this.el.querySelector(`${l("market-row")}[slot="displayed-selection"]`)}propagateValue(){if(!this.list||!this.rows)return;const t=this.getMatchingRows();if(t.length===0){this.list.value=this.value="";this.focusedRowIndex=-1}else{this.list.value=this.value;this.setFocusedRow(t[0])}this.displaySelection(t)}displaySelection(t=[]){var e,s,i;(s=(e=this.getDisplayedSelectionRow())===null||e===void 0?void 0:e.remove)===null||s===void 0?void 0:s.call(e);if(t.length===1){const e=t[0].cloneNode(true);e.interactive=false;e.removeAttribute("tabindex");e.setAttribute("role","listitem");e.removeAttribute("id");e.querySelectorAll("[id]").forEach((t=>t.removeAttribute("id")));e.classList.remove("pseudo-focus");e.setAttribute("slot","displayed-selection");e.size=this.size==="small"?"small":"medium";this.el.append(e)}else if(t.length>1){const t=document.createElement(`${l("market-row")}`);t.setAttribute("slot","displayed-selection");t.innerText=`${this.getValuesCount().toLocaleString()} `;t.size=this.size==="small"?"small":"medium";const e=document.createElement("slot");e.setAttribute("name","selected-translation");const s=this.el.querySelector('[slot="selected-translation"]');e.innerHTML=(i=s===null||s===void 0?void 0:s.innerHTML)!==null&&i!==void 0?i:"selected";t.appendChild(e);if(s){const t=new MutationObserver((()=>{e.innerHTML=s===null||s===void 0?void 0:s.innerHTML}));t.observe(s,{characterData:true,subtree:true})}this.el.append(t)}}initListObserver(){const t=new MutationObserver(this.onListChange.bind(this));t.observe(this.list,{childList:true,characterData:true,subtree:true})}onListChange(){this.initRows();this.propagateValue();this.updatePopper()}setFocusedRow(t){this.focusedRowIndex=Array.prototype.indexOf.call(this.rows,t)}async openList(){if(this.listIsActive||!this.popoverElement){return Promise.resolve()}const t=this.el.closest(this.popoverContainer)||document.body;Object.assign(this.popoverElement.style,{zIndex:`${c(t)+1}`,visibility:"hidden"});this.moveListToPopover();t.append(this.popoverElement);this.initPopperListeners();return new Promise((t=>{setTimeout((()=>{this.updatePopper();this.popoverElement.style.visibility="visible";this.listIsActive=true;this.marketSelectOpened.emit();t()}),50)}))}closeList(){if(!this.listIsActive){return Promise.resolve()}this.popoverElement.remove();this.cleanupPopperListeners();this.moveListToSelect();this.listIsActive=false;this.marketSelectClosed.emit();return Promise.resolve()}async toggleList(){this.listIsActive?await this.closeList():await this.openList()}handleTriggerKeyDown(t){switch(t.key){case"ArrowDown":this.handleArrowKey(t,oe);break;case"ArrowUp":this.handleArrowKey(t,ie);break;case" ":this.handleSpacebar(t);break;case"Enter":this.handleEnterKey();break;case"Escape":this.handleEscape();break;case"Tab":this.handleTab(t);break;case"Home":this.handleHomeKey(t);break;case"End":this.handleEndKey(t);break;default:this.typeaheadHandler(t);break}t.stopPropagation()}async handleArrowKey(t,e){t.preventDefault();if(this.listIsActive){for(let t=this.focusedRowIndex+e;t>=0&&t<this.rows.length;t+=e){if(!this.rows[t].disabled){this.focusedRowIndex=t;break}}}else{await this.openList()}}async handleSpacebar(t){var e;t.preventDefault();if(this.listIsActive){(e=this.rows[this.focusedRowIndex])===null||e===void 0?void 0:e.toggle()}else{await this.openList()}}handleEnterKey(){var t;if(this.listIsActive){(t=this.rows[this.focusedRowIndex])===null||t===void 0?void 0:t.select();this.closeList()}else{a(this.el)}}handleEscape(){if(this.listIsActive){this.closeList()}}handleTab(t){if(this.listIsActive){t.preventDefault()}else{this.focused=false}}handleHomeKey(t){if(this.listIsActive){t.preventDefault();this.focusedRowIndex=0}}handleEndKey(t){if(this.listIsActive){t.preventDefault();this.focusedRowIndex=this.rows.length-1}}handleListKeyDown(t){switch(t.key){case"Enter":this.handleListEnter();break;case"Escape":this.handleEscape();break;case"Tab":this.handleTab(t);break;case" ":this.handleListSpacebar(t);break;default:this.typeaheadHandler(t);break}t.stopPropagation()}handleListSpacebar(t){if(this.multiselect||t.target.hasAttribute("slot","search")){return}t.preventDefault();this.closeList();this.el.focus()}handleListEnter(){if(!this.multiselect){this.closeList();this.el.focus()}}typeaheadHandler(t){var e;if((e=this.list)===null||e===void 0?void 0:e.hasAttribute("has-search")){return}if(t.key.length>1||t.key.toUpperCase()===t.key.toLowerCase()){return}this.storeKeypresses(t);this.setFocusOnMatch()}storeKeypresses(t){this.keypresses=[...this.keypresses,t.key]}handleFocus(){if(this.readonly||this.disabled){return}this.focused=true}handleTriggerClick(t){if(t.target.tagName.toLowerCase()===l("market-tooltip")){return}if(this.readonly||this.disabled){return}this.toggleList()}handleListClick(){if(!this.multiselect){this.closeList();this.el.focus()}}initPopperListeners(){const{el:t,popoverElement:e,updatePopper:s}=this;this.cleanupPopperListeners=Ut(t,e,s.bind(this),{elementResize:false})}updatePopper(){const{el:t,popoverElement:e,popoverStrategy:s}=this;const i=8;const o=464;Qt(t,e,{strategy:s,middleware:[Xt(i),Zt({allowedPlacements:["top","bottom"]}),Jt({apply({rects:t,availableHeight:s}){Object.assign(e.style,{width:`${t.reference.width}px`,maxHeight:`${Math.min(s-i,o)}px`})}}),Gt({padding:i})]}).then((({x:t,y:s})=>{Object.assign(e.style,{left:`${t}px`,top:`${s}px`})}))}initPopover(){this.popoverElement=this.popoverElement||document.createElement(l("market-popover"));this.popoverElement.id=this.popoverId;this.popoverElement.style.position=this.popoverStrategy}initList(){this.list=this.el.querySelector('[slot="list"]');this.list.interactive=true;this.list.multiselect=this.multiselect;this.list.addEventListener("marketListSelectionsDidChange",this.handleListSelection.bind(this));this.list.addEventListener("marketListItemsFiltered",this.handleListItemsFiltered.bind(this));this.list.addEventListener("keydown",this.handleListKeyDown.bind(this));this.list.addEventListener("click",this.handleListClick.bind(this))}initRows(){this.rows=this.list.querySelectorAll(`${l("market-row")}`);this.rows.forEach((t=>{if(!t.id){t.id=`market-row-${d()}`}}));this.rowsInnerText=[...this.rows].filter((t=>t&&t.innerText)).map((t=>t.innerText.trim().toLowerCase()))}moveListToPopover(){this.list.removeAttribute("slot");this.popoverElement.append(this.list)}moveListToSelect(){this.list.setAttribute("slot","list");this.el.append(this.list)}registerSlottedAccessories(){const t=[...this.el.children].filter((function(t){return t.matches('[slot="leading-accessory"]')}));const e=[...this.el.children].filter((function(t){return t.matches('[slot="trailing-accessory"]')}));this.hasLeadingAccessory=t.length>0;this.hasTrailingAccessory=e.length>0}componentWillLoad(){this.registerSlottedAccessories();this.popoverId=this.popoverId||`popover-${d()}`}componentDidLoad(){this.initList();this.initRows();this.initPopover();this.initListObserver();this.propagateValue()}componentWillRender(){const{listIsActive:t,list:e}=this;if(e&&t){e.removeAttribute("slot")}}disconnectedCallback(){this.closeList()}render(){const t=this.disabled?null:"0";return s(i,{key:"9dc67f571060f9c4d9fc02684f5a1e6a4aeaf1ab",class:"market-select",role:"combobox","aria-label":n(this.el),"aria-expanded":this.listIsActive.toString(),"aria-controls":this.popoverId,"aria-activedescendant":this.focusedRowIndex>-1?this.rows[this.focusedRowIndex].id:null,"aria-required":this.required.toString(),tabindex:t,onClick:t=>{this.handleTriggerClick(t)},onFocus:()=>{this.handleFocus()},onKeyDown:t=>{this.handleTriggerKeyDown(t)}},s("slot",{key:"4b32c361f91a9e3ec8d602cf1f876008f5faca75",name:"leading-accessory",onSlotchange:()=>this.registerSlottedAccessories()}),s("div",{key:"2f0a75e0c406f2b1e84c0c050505109f2f6707dc",class:r("label-input-container",{"has-leading-accessory":this.hasLeadingAccessory,"has-trailing-accessory":this.hasTrailingAccessory})},s("slot",{key:"01e62bf7c3d22901f05ba0d050e5acb2a40fca34"}),s("slot",{key:"6e3f1047cda70d511eb140be503f536991002af0",name:"displayed-selection"},s("div",{key:"f82cb1204a14479df042296bcdf038a5050b10eb",class:"placeholder"},this.placeholder))),s("slot",{key:"c101691da11b4a75af72cafa91f42fc7bb8da3b1",name:"list"}),s("slot",{key:"a156419f608e21bec5ea1d6075fc07f7638dfe96",name:"trailing-accessory",onSlotchange:()=>this.registerSlottedAccessories()}),s("svg",{key:"7fa3d353a90501483e0e5adb804af1b51a1b5593",class:"caret",width:"14",height:"8",viewBox:"0 0 14 8",xmlns:"http://www.w3.org/2000/svg"},s("path",{key:"4e3ff52b7499db8f87bfae74ef7757378858891b","fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.70715 7.70711C7.31663 8.09763 6.68346 8.09763 6.29294 7.70711L0.29294 1.70711L1.70715 0.292892L7.00005 5.58579L12.2929 0.292893L13.7072 1.70711L7.70715 7.70711Z",fill:"black"})))}get el(){return o(this)}static get watchers(){return{value:["valueWatcher"],multiselect:["multiselectWatcher"],focusedRowIndex:["focusedRowIndexWatcher"]}}};ne.style=se;export{ne as market_select};
//# sourceMappingURL=p-7f6fda6d.entry.js.map