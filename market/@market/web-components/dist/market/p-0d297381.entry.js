import{r as t,c as s,h as e,H as i,g as o}from"./p-c9795ae2.js";import{o as r,a}from"./p-fb3db021.js";import{s as n}from"./p-bb0636ef.js";import{g as d}from"./p-a7d431c5.js";import{v as h}from"./p-19b890a3.js";const p=":host{display:inline-block}market-dropdown,.market-dropdown{width:100%}svg{fill:transparent}";const c=p;function f(t){return t.tagName.toLowerCase()===d("market-button")}const l=class{constructor(e){t(this,e);this.marketButtonDropdownOpened=s(this,"marketButtonDropdownOpened",7);this.marketButtonDropdownClosed=s(this,"marketButtonDropdownClosed",7);this.onMutationObserved=t=>{this.ariaAttributes=t};this.interaction="click";this.disabled=false;this.noCaret=false;this.popoverPlacement="bottom-end";this.popoverStrategy="absolute";this.persistListSelections=false;this.dropdownIsActive=false;this.ariaAttributes=undefined}dropdownOpenedEventHandler(t){if(t.target!==this.el)return;this.dropdownIsActive=true;this.setCaret();this.marketButtonDropdownOpened.emit()}dropdownClosedEventHandler(t){if(t.target!==this.el)return;this.dropdownIsActive=false;this.setCaret();this.marketButtonDropdownClosed.emit()}syncTriggerDisabledState(){if(this.slottedButton){this.slottedButton.disabled=this.disabled}}setCaret(){if(this.noCaret||!f(this.slottedButton)){return}if(this.dropdownIsActive){this.slottedButton.caret="up"}else{this.slottedButton.caret="down"}}registerTrigger(){this.slottedButton=this.el.querySelector(n.join(","));this.syncTriggerDisabledState();this.setCaret()}componentWillLoad(){this.mutationObserver=r(this.el,this.onMutationObserved)}componentWillRender(){const t=d("market-list");const s=this.el.querySelector(t);const e=this.el.querySelector(`[slot="content"]`);if(s){s.interactive=true;s.transient=!this.persistListSelections}if(this.slottedButton){if(!e.id){e.id=`popover-${h()}`}a(this.slottedButton,{expanded:this.dropdownIsActive.toString(),popoverId:e.id})}}render(){const t=d("market-dropdown");const s=d("market-popover");return e(i,{key:"35a277377595acc3448cf6725c2026ef398df787",class:"market-button-dropdown"},e(t,{key:"706d03f37636b4a77ce2378279a85ecbbc563259",interaction:this.interaction,"popover-strategy":this.popoverStrategy,"popover-placement":this.popoverPlacement,disabled:this.disabled},e("slot",{key:"eb6a8ad8f2d20b110fea23dcca3f13ef4f888640",name:"trigger",slot:"trigger",onSlotchange:()=>this.registerTrigger()}),e(s,{key:"6eda9f25ab04d65c27fa96145fde542e040882c2",slot:"popover",part:"popover"},e("slot",{key:"1a9a9e1e0fd8c895482d4a08e4d016530340e2cd",name:"content"}))))}get el(){return o(this)}static get watchers(){return{disabled:["syncTriggerDisabledState"]}}};l.style=c;export{l as market_button_dropdown};
//# sourceMappingURL=p-0d297381.entry.js.map