import{r as t,c as r,h as e,H as n}from"./p-c9795ae2.js";import{g as a}from"./p-a7d431c5.js";import{r as i,_ as u,t as s,a as c,g as o}from"./p-051a0642.js";import{g as d,a as f,b as v,c as l,d as h,s as w,i as m,t as b,e as g,f as p,l as x,m as D,h as y}from"./p-d06038ab.js";import{i as M,b as E,a as k}from"./p-435da4b9.js";function N(t){i(1,arguments);return t instanceof Date||u(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function S(t){i(1,arguments);if(!N(t)&&typeof t!=="number"){return false}var r=s(t);return!isNaN(Number(r))}var I=864e5;function q(t){i(1,arguments);var r=s(t);var e=r.getTime();r.setUTCMonth(0,1);r.setUTCHours(0,0,0,0);var n=r.getTime();var a=e-n;return Math.floor(a/I)+1}function G(t,r){var e=t<0?"-":"";var n=Math.abs(t).toString();while(n.length<r){n="0"+n}return e+n}var L={y:function t(r,e){var n=r.getUTCFullYear();var a=n>0?n:1-n;return G(e==="yy"?a%100:a,e.length)},M:function t(r,e){var n=r.getUTCMonth();return e==="M"?String(n+1):G(n+1,2)},d:function t(r,e){return G(r.getUTCDate(),e.length)},a:function t(r,e){var n=r.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function t(r,e){return G(r.getUTCHours()%12||12,e.length)},H:function t(r,e){return G(r.getUTCHours(),e.length)},m:function t(r,e){return G(r.getUTCMinutes(),e.length)},s:function t(r,e){return G(r.getUTCSeconds(),e.length)},S:function t(r,e){var n=e.length;var a=r.getUTCMilliseconds();var i=Math.floor(a*Math.pow(10,n-3));return G(i,e.length)}};const $=L;var Q={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};var B={G:function t(r,e,n){var a=r.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function t(r,e,n){if(e==="yo"){var a=r.getUTCFullYear();var i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return $.y(r,e)},Y:function t(r,e,n,a){var i=d(r,a);var u=i>0?i:1-i;if(e==="YY"){var s=u%100;return G(s,2)}if(e==="Yo"){return n.ordinalNumber(u,{unit:"year"})}return G(u,e.length)},R:function t(r,e){var n=f(r);return G(n,e.length)},u:function t(r,e){var n=r.getUTCFullYear();return G(n,e.length)},Q:function t(r,e,n){var a=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return G(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function t(r,e,n){var a=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return G(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function t(r,e,n){var a=r.getUTCMonth();switch(e){case"M":case"MM":return $.M(r,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function t(r,e,n){var a=r.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return G(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function t(r,e,n,a){var i=v(r,a);if(e==="wo"){return n.ordinalNumber(i,{unit:"week"})}return G(i,e.length)},I:function t(r,e,n){var a=l(r);if(e==="Io"){return n.ordinalNumber(a,{unit:"week"})}return G(a,e.length)},d:function t(r,e,n){if(e==="do"){return n.ordinalNumber(r.getUTCDate(),{unit:"date"})}return $.d(r,e)},D:function t(r,e,n){var a=q(r);if(e==="Do"){return n.ordinalNumber(a,{unit:"dayOfYear"})}return G(a,e.length)},E:function t(r,e,n){var a=r.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function t(r,e,n,a){var i=r.getUTCDay();var u=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return G(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function t(r,e,n,a){var i=r.getUTCDay();var u=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return G(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function t(r,e,n){var a=r.getUTCDay();var i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return G(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function t(r,e,n){var a=r.getUTCHours();var i=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function t(r,e,n){var a=r.getUTCHours();var i;if(a===12){i=Q.noon}else if(a===0){i=Q.midnight}else{i=a/12>=1?"pm":"am"}switch(e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function t(r,e,n){var a=r.getUTCHours();var i;if(a>=17){i=Q.evening}else if(a>=12){i=Q.afternoon}else if(a>=4){i=Q.morning}else{i=Q.night}switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function t(r,e,n){if(e==="ho"){var a=r.getUTCHours()%12;if(a===0)a=12;return n.ordinalNumber(a,{unit:"hour"})}return $.h(r,e)},H:function t(r,e,n){if(e==="Ho"){return n.ordinalNumber(r.getUTCHours(),{unit:"hour"})}return $.H(r,e)},K:function t(r,e,n){var a=r.getUTCHours()%12;if(e==="Ko"){return n.ordinalNumber(a,{unit:"hour"})}return G(a,e.length)},k:function t(r,e,n){var a=r.getUTCHours();if(a===0)a=24;if(e==="ko"){return n.ordinalNumber(a,{unit:"hour"})}return G(a,e.length)},m:function t(r,e,n){if(e==="mo"){return n.ordinalNumber(r.getUTCMinutes(),{unit:"minute"})}return $.m(r,e)},s:function t(r,e,n){if(e==="so"){return n.ordinalNumber(r.getUTCSeconds(),{unit:"second"})}return $.s(r,e)},S:function t(r,e){return $.S(r,e)},X:function t(r,e,n,a){var i=a._originalDate||r;var u=i.getTimezoneOffset();if(u===0){return"Z"}switch(e){case"X":return X(u);case"XXXX":case"XX":return z(u);case"XXXXX":case"XXX":default:return z(u,":")}},x:function t(r,e,n,a){var i=a._originalDate||r;var u=i.getTimezoneOffset();switch(e){case"x":return X(u);case"xxxx":case"xx":return z(u);case"xxxxx":case"xxx":default:return z(u,":")}},O:function t(r,e,n,a){var i=a._originalDate||r;var u=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+O(u,":");case"OOOO":default:return"GMT"+z(u,":")}},z:function t(r,e,n,a){var i=a._originalDate||r;var u=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+O(u,":");case"zzzz":default:return"GMT"+z(u,":")}},t:function t(r,e,n,a){var i=a._originalDate||r;var u=Math.floor(i.getTime()/1e3);return G(u,e.length)},T:function t(r,e,n,a){var i=a._originalDate||r;var u=i.getTime();return G(u,e.length)}};function O(t,r){var e=t>0?"-":"+";var n=Math.abs(t);var a=Math.floor(n/60);var i=n%60;if(i===0){return e+String(a)}var u=r||"";return e+String(a)+u+G(i,2)}function X(t,r){if(t%60===0){var e=t>0?"-":"+";return e+G(Math.abs(t)/60,2)}return z(t,r)}function z(t,r){var e=r||"";var n=t>0?"-":"+";var a=Math.abs(t);var i=G(Math.floor(a/60),2);var u=G(a%60,2);return n+i+e+u}const T=B;var j=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;var R=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;var H=/^'([^]*?)'?$/;var Y=/''/g;var Z=/[a-zA-Z]/;function _(t,r,e){var n,a,u,d,f,v,l,D,y,M,E,k,N,I,q,G,L,$;i(2,arguments);var Q=String(r);var B=o();var O=(n=(a=e===null||e===void 0?void 0:e.locale)!==null&&a!==void 0?a:B.locale)!==null&&n!==void 0?n:p;var X=c((u=(d=(f=(v=e===null||e===void 0?void 0:e.firstWeekContainsDate)!==null&&v!==void 0?v:e===null||e===void 0?void 0:(l=e.locale)===null||l===void 0?void 0:(D=l.options)===null||D===void 0?void 0:D.firstWeekContainsDate)!==null&&f!==void 0?f:B.firstWeekContainsDate)!==null&&d!==void 0?d:(y=B.locale)===null||y===void 0?void 0:(M=y.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(X>=1&&X<=7)){throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively")}var z=c((E=(k=(N=(I=e===null||e===void 0?void 0:e.weekStartsOn)!==null&&I!==void 0?I:e===null||e===void 0?void 0:(q=e.locale)===null||q===void 0?void 0:(G=q.options)===null||G===void 0?void 0:G.weekStartsOn)!==null&&N!==void 0?N:B.weekStartsOn)!==null&&k!==void 0?k:(L=B.locale)===null||L===void 0?void 0:($=L.options)===null||$===void 0?void 0:$.weekStartsOn)!==null&&E!==void 0?E:0);if(!(z>=0&&z<=6)){throw new RangeError("weekStartsOn must be between 0 and 6 inclusively")}if(!O.localize){throw new RangeError("locale must contain localize property")}if(!O.formatLong){throw new RangeError("locale must contain formatLong property")}var H=s(t);if(!S(H)){throw new RangeError("Invalid time value")}var Y=h(H);var _=w(H,Y);var P={firstWeekContainsDate:X,weekStartsOn:z,locale:O,_originalDate:H};var W=Q.match(R).map((function(t){var r=t[0];if(r==="p"||r==="P"){var e=x[r];return e(t,O.formatLong)}return t})).join("").match(j).map((function(n){if(n==="''"){return"'"}var a=n[0];if(a==="'"){return F(n)}var i=T[a];if(i){if(!(e!==null&&e!==void 0&&e.useAdditionalWeekYearTokens)&&m(n)){b(n,r,String(t))}if(!(e!==null&&e!==void 0&&e.useAdditionalDayOfYearTokens)&&g(n)){b(n,r,String(t))}return i(_,n,O.localize,P)}if(a.match(Z)){throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`")}return n})).join("");return W}function F(t){var r=t.match(H);if(!r){return t}return r[1].replace(Y,"'")}function P(t,r){var e;i(1,arguments);var n=c((e=r===null||r===void 0?void 0:r.additionalDigits)!==null&&e!==void 0?e:2);if(n!==2&&n!==1&&n!==0){throw new RangeError("additionalDigits must be 0, 1 or 2")}if(!(typeof t==="string"||Object.prototype.toString.call(t)==="[object String]")){return new Date(NaN)}var a=J(t);var u;if(a.date){var s=U(a.date,n);u=V(s.restDateString,s.year)}if(!u||isNaN(u.getTime())){return new Date(NaN)}var o=u.getTime();var d=0;var f;if(a.time){d=rt(a.time);if(isNaN(d)){return new Date(NaN)}}if(a.timezone){f=nt(a.timezone);if(isNaN(f)){return new Date(NaN)}}else{var v=new Date(o+d);var l=new Date(0);l.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate());l.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds());return l}return new Date(o+d+f)}var W={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/};var C=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/;var K=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/;var A=/^([+-])(\d{2})(?::?(\d{2}))?$/;function J(t){var r={};var e=t.split(W.dateTimeDelimiter);var n;if(e.length>2){return r}if(/:/.test(e[0])){n=e[0]}else{r.date=e[0];n=e[1];if(W.timeZoneDelimiter.test(r.date)){r.date=t.split(W.timeZoneDelimiter)[0];n=t.substr(r.date.length,t.length)}}if(n){var a=W.timezone.exec(n);if(a){r.time=n.replace(a[1],"");r.timezone=a[1]}else{r.time=n}}return r}function U(t,r){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)");var n=t.match(e);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null;var i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function V(t,r){if(r===null)return new Date(NaN);var e=t.match(C);if(!e)return new Date(NaN);var n=!!e[4];var a=tt(e[1]);var i=tt(e[2])-1;var u=tt(e[3]);var s=tt(e[4]);var c=tt(e[5])-1;if(n){if(!ot(r,s,c)){return new Date(NaN)}return at(r,s,c)}else{var o=new Date(0);if(!st(r,i,u)||!ct(r,a)){return new Date(NaN)}o.setUTCFullYear(r,i,Math.max(a,u));return o}}function tt(t){return t?parseInt(t):1}function rt(t){var r=t.match(K);if(!r)return NaN;var e=et(r[1]);var n=et(r[2]);var a=et(r[3]);if(!dt(e,n,a)){return NaN}return e*D+n*y+a*1e3}function et(t){return t&&parseFloat(t.replace(",","."))||0}function nt(t){if(t==="Z")return 0;var r=t.match(A);if(!r)return 0;var e=r[1]==="+"?-1:1;var n=parseInt(r[2]);var a=r[3]&&parseInt(r[3])||0;if(!ft(n,a)){return NaN}return e*(n*D+a*y)}function at(t,r,e){var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7;var i=(r-1)*7+e+1-a;n.setUTCDate(n.getUTCDate()+i);return n}var it=[31,null,31,30,31,30,31,31,30,31,30,31];function ut(t){return t%400===0||t%4===0&&t%100!==0}function st(t,r,e){return r>=0&&r<=11&&e>=1&&e<=(it[r]||(ut(t)?29:28))}function ct(t,r){return r>=1&&r<=(ut(t)?366:365)}function ot(t,r,e){return r>=1&&r<=53&&e>=0&&e<=6}function dt(t,r,e){if(t===24){return r===0&&e===0}return e>=0&&e<60&&r>=0&&r<60&&t>=0&&t<25}function ft(t,r){return r>=0&&r<=59}const vt=".input-row{display:flex;justify-content:space-around;margin-top:8px}.input-wrapper{display:flex;flex:1;flex-direction:column;align-items:flex-start}.start-input:not(:last-child){margin-right:16px}.time-input,.date-input{box-sizing:border-box;width:100%;margin-top:16px}.market-banner{margin-top:16px}";const lt=vt;const ht=class{constructor(e){t(this,e);this.marketDatePickerInputDateSet=r(this,"marketDatePickerInputDateSet",7);this.marketDatePickerInputDateInvalidStateChanged=r(this,"marketDatePickerInputDateInvalidStateChanged",7);this.withTime=false;this.selectedStartDate=undefined;this.selectedEndDate=undefined;this.isDateDisabled=undefined;this.timeframe="present";this.range=false;this.isRangeInvalid=false}emitInvalidStateEvent(){this.marketDatePickerInputDateInvalidStateChanged.emit({invalid:this.isRangeInvalid})}formatDate(t,r=false){if(!t)return"";const e=new Date(t);if(!S(e)){return""}const n=r?"HH:mm":"yyyy-MM-dd";return _(e,n)}isInvalidDateForTimeframe(t,r=new Date){const e=this.timeframe==="future"&&M(t,r)&&!E(t,r);const n=this.timeframe==="past"&&k(t,r)&&!E(t,r);return e||n}updateInvalidState(t=this.selectedStartDate,r=this.selectedEndDate){if(this.isDateInvalid(t)||this.isDateInvalid(r)){this.isRangeInvalid=true;return}if(r){this.isRangeInvalid=k(new Date(t),new Date(r));return}this.isRangeInvalid=false}isDateInvalid(t){if(!t)return false;const r=P(t);if(r.toString()==="Invalid Date")return true;if(this.isDateDisabled&&this.isDateDisabled(r)){return true}if(this.timeframe&&this.isInvalidDateForTimeframe(r)){return true}return false}emitDateSetStart(t){this.emitDateSet(t,"start")}emitDateSetEnd(t){this.emitDateSet(t,"end")}emitDateSetStartTime(t){this.emitDateSet(t,"start",true)}emitDateSetEndTime(t){this.emitDateSet(t,"end",true)}emitDateSet(t,r,e=false){t.preventDefault();t.stopPropagation();const{value:n}=t.target;let a=n;if(this.withTime){if(e){const t=this.formatDate(r==="start"?this.selectedStartDate:this.selectedEndDate);const e=n.slice(0,5);a=`${t}T${e}`}else{const t=this.formatDate(r==="start"?this.selectedStartDate:this.selectedEndDate,true);a=`${n}T${t}`}}const i=a.replace(/^0+/,"").length;if(i===10||i===16){this.marketDatePickerInputDateSet.emit({date:a,input:r})}}componentWillRender(){this.updateInvalidState()}render(){const t=a("market-input-text");const r=a("market-banner");const i=t=>e("div",{key:"b21389daf44f3f7c01c99332c863b3694a5fe3ec",class:`input-wrapper ${t==="start"?"start-input":""}`},t==="start"&&u("start"),t==="start"&&this.withTime&&s("start"),t==="end"&&u("end"),t==="end"&&this.withTime&&s("end"));const u=r=>e(t,{key:"f425b7803c14bc28ba82f6ac33c84f2258d2a988",type:"date",class:`date-input`,name:`date-picker-date-${r}`,invalid:this.isRangeInvalid,value:this.formatDate(r==="start"?this.selectedStartDate:this.selectedEndDate),onInput:r==="start"?this.emitDateSetStart.bind(this):this.emitDateSetEnd.bind(this)},e("label",{key:"b9049334bb2a711c69327172411d07ba37c1aaaa",htmlFor:`date-picker-${r}`},e("slot",{key:"79396ea901c67d286f81dc132659f3967c8d7d9b",name:`${r}-date`},this.range&&(r==="start"?"Start":"End")," Date")));const s=r=>e(t,{key:"51b47dd0eaa7750109e65e870b028f940cce097b",type:"time",class:`time-input`,name:`date-picker-time-${r}`,invalid:this.isRangeInvalid,value:this.formatDate(r==="start"?this.selectedStartDate:this.selectedEndDate,true),onInput:r==="start"?this.emitDateSetStartTime.bind(this):this.emitDateSetEndTime.bind(this)},e("label",{key:"a0c76ff259384cbe05c43246c8e02219b728e958",htmlFor:`date-picker-time-${r}`},e("slot",{key:"542b72217fe71c460e650ae561151f54c66c331e",name:`${r}-time`},this.range&&(r==="start"?"Start":"End")," Time")));return e(n,{key:"97b4fde78831d10fb483c5ba14c5eb7d5a4ad6dc",class:"market-date-picker-input-date"},this.range?e("div",{class:"input-row"},i("start"),i("end")):e("div",null,i("start")),this.isRangeInvalid&&e(r,{key:"e307642e971df21b7e52d49de81208537955275d",variant:"critical"},e("slot",{key:"573adb7b99baacc96011ba953f785e2fff879ca7",name:"range-error"},"Enter a valid date range")))}static get watchers(){return{isRangeInvalid:["emitInvalidStateEvent"]}}};ht.style=lt;export{ht as market_date_picker_input_date};
//# sourceMappingURL=p-051f6018.entry.js.map