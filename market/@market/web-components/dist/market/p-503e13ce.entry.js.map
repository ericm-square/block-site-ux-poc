{"version":3,"names":["marketCheckboxCss","MarketCheckboxStyle0","MarketCheckbox","setSelection","newValue","silent","marketCheckboxValueChange","checked","prevValue","innerInput","this","Promise","resolve","indeterminate","defaultPrevented","emit","current","previous","setIndeterminate","setValue","console","warn","el","setActive","value","active","setHover","hovered","setDisabled","disabled","setFocus","focused","handleClick","event","preventDefault","getCheckedState","componentDidRender","shadowRoot","querySelector","render","h","Host","key","class","onBlur","onClick","onFocus","ref","type","getControlInputAriaLabel","width","height","viewBox","fill","xmlns","d","stroke"],"sources":["src/components/market-checkbox/market-checkbox.css?tag=market-checkbox&encapsulation=shadow","src/components/market-checkbox/market-checkbox.tsx"],"sourcesContent":["@import \"../../styles/mixins/component-base.css\";\n\n:host {\n  --checkbox-offset: calc(-1 * var(--checkbox-border-size));\n  --focus-ring-color: color-mix(in srgb, var(--checkbox-focus-ring-color) 100%, transparent);\n\n  position: relative;\n  display: inline-block;\n  width: var(--checkbox-width);\n  height: var(--checkbox-height);\n  border: var(--checkbox-border-size) solid var(--checkbox-normal-state-normal-validity-unchecked-value-border-color);\n  border-radius: var(--checkbox-border-radius);\n\n  /* state:normal.validity:normal.value:unchecked */\n  background-color: var(--checkbox-normal-state-normal-validity-unchecked-value-background-color);\n}\n\ninput {\n  position: absolute;\n\n  /* The top and left offset are to account for the border size */\n  top: var(--checkbox-offset);\n  left: var(--checkbox-offset);\n  width: var(--checkbox-width);\n  height: var(--checkbox-height);\n  margin: 0;\n  border-radius: var(--checkbox-border-radius);\n  background: transparent;\n  outline: none;\n  cursor: pointer;\n  appearance: none;\n}\n\ninput:focus-visible {\n  outline: var(--checkbox-focus-ring-border-size) solid var(--focus-ring-color);\n  outline-offset: var(--checkbox-focus-ring-buffer-size);\n}\n\nsvg {\n  position: absolute;\n  top: var(--checkbox-offset);\n  left: var(--checkbox-offset);\n  pointer-events: none;\n}\n\n:host(:hover),\n:host([hovered]) {\n  /* state:hover.validity:normal.value:unchecked */\n  border-color: var(--checkbox-hover-state-normal-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-hover-state-normal-validity-unchecked-value-background-color);\n}\n\n:host([focused]) {\n  /* state:focus.validity:normal.value:unchecked */\n  border-color: var(--checkbox-focus-state-normal-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-focus-state-normal-validity-unchecked-value-background-color);\n}\n\n:host(:active),\n:host([active]) {\n  /* state:active.validity:normal.value:unchecked */\n  border-color: var(--checkbox-pressed-state-normal-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-pressed-state-normal-validity-unchecked-value-background-color);\n}\n\n:host([checked]) {\n  /* state:normal.validity:normal.value:checked */\n  border-color: var(--checkbox-normal-state-normal-validity-checked-value-border-color);\n  background-color: var(--checkbox-normal-state-normal-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-normal-state-normal-validity-checked-value-icon-color);\n  }\n}\n\n:host([checked]:hover),\n:host([checked][hovered]) {\n  /* state:hover.validity:normal.value:checked */\n  border-color: var(--checkbox-hover-state-normal-validity-checked-value-border-color);\n  background-color: var(--checkbox-hover-state-normal-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-hover-state-normal-validity-checked-value-icon-color);\n  }\n}\n\n:host([checked][focused]) {\n  /* state:focus.validity:normal.value:checked */\n  border-color: var(--checkbox-focus-state-normal-validity-checked-value-border-color);\n  background-color: var(--checkbox-focus-state-normal-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-focus-state-normal-validity-checked-value-icon-color);\n  }\n}\n\n:host([checked]:active),\n:host([checked][active]) {\n  /* state:active.validity:normal.value:checked */\n  border-color: var(--checkbox-pressed-state-normal-validity-checked-value-border-color);\n  background-color: var(--checkbox-pressed-state-normal-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-pressed-state-normal-validity-checked-value-icon-color);\n  }\n}\n\n:host([indeterminate]) {\n  /* state:normal.validity:normal.value:indeterminate */\n  border-color: var(--checkbox-normal-state-normal-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-normal-state-normal-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-normal-state-normal-validity-indeterminate-value-icon-color);\n  }\n}\n\n:host([indeterminate]:hover),\n:host([indeterminate][hovered]) {\n  /* state:hover.validity:normal.value:indeterminate */\n  border-color: var(--checkbox-hover-state-normal-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-hover-state-normal-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-hover-state-normal-validity-indeterminate-value-icon-color);\n  }\n}\n\n:host([indeterminate][focused]) {\n  /* state:focus.validity:normal.value:indeterminate */\n  border-color: var(--checkbox-focus-state-normal-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-focus-state-normal-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-focus-state-normal-validity-indeterminate-value-icon-color);\n  }\n}\n\n:host([indeterminate]:active),\n:host([indeterminate][active]) {\n  /* state:active.validity:normal.value:indeterminate */\n  border-color: var(--checkbox-pressed-state-normal-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-pressed-state-normal-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-pressed-state-normal-validity-indeterminate-value-icon-color);\n  }\n}\n\n:host([invalid]) {\n  /* state:normal.validity:invalid.value:unchecked */\n  border-color: var(--checkbox-normal-state-invalid-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-normal-state-invalid-validity-unchecked-value-background-color);\n}\n\n:host([invalid]:hover) {\n  /* state:hover.validity:invalid.value:unchecked */\n  border-color: var(--checkbox-hover-state-invalid-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-hover-state-invalid-validity-unchecked-value-background-color);\n}\n\n:host([invalid][focused]) {\n  /* state:focus.validity:invalid.value:unchecked */\n  border-color: var(--checkbox-focus-state-invalid-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-focus-state-invalid-validity-unchecked-value-background-color);\n}\n\n:host([invalid]:active) {\n  /* state:active.validity:invalid.value:unchecked */\n  border-color: var(--checkbox-pressed-state-invalid-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-pressed-state-invalid-validity-unchecked-value-background-color);\n}\n\n:host([invalid][checked]) {\n  /* state:normal.validity:invalid.value:checked */\n  border-color: var(--checkbox-normal-state-invalid-validity-checked-value-border-color);\n  background-color: var(--checkbox-normal-state-invalid-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-normal-state-invalid-validity-checked-value-icon-color);\n  }\n}\n\n:host([invalid][checked]:hover) {\n  /* state:hover.validity:invalid.value:checked */\n  border-color: var(--checkbox-hover-state-invalid-validity-checked-value-border-color);\n  background-color: var(--checkbox-hover-state-invalid-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-hover-state-invalid-validity-checked-value-icon-color);\n  }\n}\n\n:host([invalid][checked][focused]) {\n  /* state:focus.validity:invalid.value:checked */\n  border-color: var(--checkbox-focus-state-invalid-validity-checked-value-border-color);\n  background-color: var(--checkbox-focus-state-invalid-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-focus-state-invalid-validity-checked-value-icon-color);\n  }\n}\n\n:host([invalid][checked]:active) {\n  /* state:active.validity:invalid.value:checked */\n  border-color: var(--checkbox-pressed-state-invalid-validity-checked-value-border-color);\n  background-color: var(--checkbox-pressed-state-invalid-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-pressed-state-invalid-validity-checked-value-icon-color);\n  }\n}\n\n:host([invalid][indeterminate]) {\n  /* state:normal.validity:invalid.value:indeterminate */\n  border-color: var(--checkbox-normal-state-invalid-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-normal-state-invalid-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-normal-state-invalid-validity-indeterminate-value-icon-color);\n  }\n}\n\n:host([invalid][indeterminate]:hover) {\n  /* state:hover.validity:invalid.value:indeterminate */\n  border-color: var(--checkbox-hover-state-invalid-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-hover-state-invalid-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-hover-state-invalid-validity-indeterminate-value-icon-color);\n  }\n}\n\n:host([invalid][indeterminate][focused]) {\n  /* state:focus.validity:invalid.value:indeterminate */\n  border-color: var(--checkbox-focus-state-invalid-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-focus-state-invalid-validity-indeterminate-value-background-color);\n}\n\n:host([invalid][indeterminate]:active) {\n  /* state:active.validity:invalid.value:indeterminate */\n  border-color: var(--checkbox-pressed-state-invalid-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-pressed-state-invalid-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-pressed-state-invalid-validity-indeterminate-value-icon-color);\n  }\n}\n\n/* Disabled states trump all others */\n\n:host([disabled]) {\n  /* state:disabled.validity:normal.value:unchecked */\n  border-color: var(--checkbox-disabled-state-normal-validity-unchecked-value-border-color);\n  background-color: var(--checkbox-disabled-state-normal-validity-unchecked-value-background-color);\n  cursor: not-allowed;\n\n  input {\n    cursor: not-allowed;\n  }\n}\n\n:host([checked][disabled]) {\n  /* state:disabled.validity:normal.value:checked */\n  border-color: var(--checkbox-disabled-state-normal-validity-checked-value-border-color);\n  background-color: var(--checkbox-disabled-state-normal-validity-checked-value-background-color);\n\n  path {\n    stroke: var(--checkbox-disabled-state-normal-validity-checked-value-icon-color);\n  }\n}\n\n:host([indeterminate][disabled]) {\n  /* state:disabled.validity:normal.value:indeterminate */\n  border-color: var(--checkbox-disabled-state-normal-validity-indeterminate-value-border-color);\n  background-color: var(--checkbox-disabled-state-normal-validity-indeterminate-value-background-color);\n\n  path {\n    stroke: var(--checkbox-disabled-state-normal-validity-indeterminate-value-icon-color);\n  }\n}\n","import { Component, Event, EventEmitter, Host, h, Prop, Element, Method } from '@stencil/core';\nimport { getControlInputAriaLabel } from '../../utils/aria';\n\n@Component({\n  tag: 'market-checkbox',\n  styleUrl: 'market-checkbox.css',\n  shadow: true,\n})\nexport class MarketCheckbox {\n  @Element() el: HTMLMarketCheckboxElement;\n\n  /**\n   * Whether the checkbox is checked or unchecked. Operates independently of the indeterminate property.\n   * If used as a slotted control inside of `market-row`, this will be overridden by the row's `selected` property.\n   */\n  @Prop({ mutable: true, reflect: true }) checked: boolean = false;\n\n  /**\n   * Whether the checkbox is disabled.\n   */\n  @Prop({ mutable: true, reflect: true }) disabled: boolean = false;\n\n  /**\n   * Whether the checkbox is indeterminate. If true, indeterminate visual state takes precedence over checked/unchecked.\n   */\n  @Prop({ mutable: true, reflect: true }) indeterminate: boolean = false;\n\n  /**\n   * Whether the checkbox is invalid.\n   */\n  @Prop({ reflect: true }) readonly invalid: boolean = false;\n\n  /**\n   * Whether the checkbox is focused or not.\n   */\n  @Prop({ mutable: true, reflect: true }) focused: boolean = false;\n\n  /**\n   * Whether the checkbox is hovered or not.\n   */\n  @Prop({ mutable: true, reflect: true }) hovered: boolean = false;\n\n  /**\n   * Whether the checkbox is active or not.\n   */\n  @Prop({ mutable: true, reflect: true }) active: boolean = false;\n\n  /**\n   * Fired whenever \"checked\" prop value changes.\n   */\n  @Event() marketCheckboxValueChange: EventEmitter<{ current: boolean; previous: boolean }>;\n\n  innerInput: HTMLInputElement;\n\n  /**\n   * Toggles `checked` prop, and emits a change event accordingly.\n   * Used by `market-row` to sync its selected state w/ slotted checkboxes.\n   */\n  @Method()\n  setSelection(newValue: boolean, { silent = false } = {}) {\n    // this method's implementation could be cleaned up and simplified\n    // (see analogous setSelection methods in toggle & radio),\n    // but the extra indeterminate state complicates things a bit.\n    // so just implementing this in a roundabout way for now in order to\n    // keep the tests the same, until we decide to handle it differently.\n    // ideally the indeterminate state wouldn't change if the event is prevented,\n    // but this could be a breaking change which would need to be addressed.\n    const { marketCheckboxValueChange, checked: prevValue, innerInput } = this;\n\n    if (typeof newValue !== 'boolean') return Promise.resolve();\n\n    this.indeterminate = false;\n\n    if (prevValue === newValue) return Promise.resolve();\n\n    if (!silent) {\n      const { defaultPrevented } = marketCheckboxValueChange.emit({\n        current: newValue,\n        previous: prevValue,\n      });\n      if (defaultPrevented) {\n        return Promise.resolve();\n      }\n    }\n\n    this.checked = newValue;\n    // When using the non-lazy output target, this method sometimes gets called\n    // from market-row's watcher after innerInput is removed, hence this check.\n    if (innerInput) {\n      innerInput.checked = newValue;\n    }\n    return Promise.resolve();\n  }\n\n  /**\n   * Toggles `indeterminate` prop. Operates independently of the `checked` property but if `true`,\n   * indeterminate visual appearance takes precedence over checked/unchecked.\n   */\n  @Method()\n  setIndeterminate(newValue: boolean) {\n    this.indeterminate = newValue;\n    return Promise.resolve();\n  }\n\n  /**\n   * DEPRECATED (3.x): Toggles `selected` state (unrelated to the HTML attribute `value`).\n   */\n  @Method()\n  setValue(newValue: boolean) {\n    /* eslint-disable-next-line no-console */\n    console.warn(\"market-checkbox's setValue() method has been deprecated. Use setSelection() instead.\", this.el);\n    this.setSelection(newValue);\n    return Promise.resolve();\n  }\n\n  /**\n   * Sets `active` state. Allows external elements to programmatically\n   * trigger active styling, ex. when slotted as a control into `market-row`.\n   */\n  @Method()\n  setActive(value: boolean) {\n    this.active = value;\n    return Promise.resolve();\n  }\n\n  /**\n   * Sets `hovered` state. Allows external elements to programmatically\n   * trigger hover styling, ex. when slotted as a control into `market-row`.\n   */\n  @Method()\n  setHover(value: boolean) {\n    this.hovered = value;\n    return Promise.resolve();\n  }\n\n  /**\n   * Sets `disabled` state. Allows external elements to programmatically\n   * trigger disabled styling, ex. when slotted as a control into `market-row`.\n   */\n  @Method()\n  setDisabled(value: boolean) {\n    this.disabled = value;\n    return Promise.resolve();\n  }\n\n  /**\n   * Sets `focused` state, except when disabled.\n   * Allows external consumers to programmatically\n   * trigger focused styling.\n   */\n  @Method()\n  setFocus(value: boolean = true) {\n    if (this.disabled) {\n      return Promise.resolve();\n    }\n    this.focused = value;\n    return Promise.resolve();\n  }\n\n  handleClick(event: MouseEvent) {\n    // Always prevent default so we can manually control the selection\n    event.preventDefault();\n\n    if (this.disabled) {\n      return;\n    }\n\n    this.setFocus();\n    this.setSelection(!this.checked);\n  }\n\n  getCheckedState(): boolean | 'indeterminate' {\n    return this.indeterminate ? 'indeterminate' : this.checked;\n  }\n\n  componentDidRender() {\n    if (!this.innerInput) {\n      this.innerInput = this.el.shadowRoot.querySelector('input');\n    }\n  }\n\n  render() {\n    return (\n      <Host\n        class=\"market-checkbox\"\n        onBlur={() => {\n          this.setFocus(false);\n        }}\n        onClick={this.handleClick}\n        onFocus={() => {\n          this.setFocus();\n        }}\n      >\n        <input\n          ref={(el) => (this.innerInput = el)}\n          type=\"checkbox\"\n          aria-label={getControlInputAriaLabel(this.el)}\n          checked={this.checked}\n          indeterminate={this.indeterminate}\n          disabled={this.disabled}\n        />\n        {this.checked && !this.indeterminate && (\n          <svg\n            width=\"20\"\n            height=\"20\"\n            viewBox=\"0 0 20 20\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            data-testid=\"check\"\n          >\n            <path\n              d=\"M6 10L8.85714 13L14 7\"\n              stroke=\"white\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n            />\n          </svg>\n        )}\n        {/* indeterminate visual state overrides checked state */}\n        {this.indeterminate && (\n          <svg\n            width=\"20\"\n            height=\"20\"\n            viewBox=\"0 0 20 20\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            data-testid=\"indeterminate\"\n          >\n            <path d=\"M6 10H14\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n          </svg>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"oGAAA,MAAMA,EAAoB,g1RAC1B,MAAAC,EAAeD,E,MCOFE,EAAc,M,2GAOkC,M,cAKC,M,mBAKK,M,aAKZ,M,aAKM,M,aAKA,M,YAKD,K,CAc1D,YAAAC,CAAaC,GAAmBC,OAAEA,EAAS,OAAU,IAQnD,MAAMC,0BAAEA,EAA2BC,QAASC,EAASC,WAAEA,GAAeC,KAEtE,UAAWN,IAAa,UAAW,OAAOO,QAAQC,UAElDF,KAAKG,cAAgB,MAErB,GAAIL,IAAcJ,EAAU,OAAOO,QAAQC,UAE3C,IAAKP,EAAQ,CACX,MAAMS,iBAAEA,GAAqBR,EAA0BS,KAAK,CAC1DC,QAASZ,EACTa,SAAUT,IAEZ,GAAIM,EAAkB,CACpB,OAAOH,QAAQC,S,EAInBF,KAAKH,QAAUH,EAGf,GAAIK,EAAY,CACdA,EAAWF,QAAUH,C,CAEvB,OAAOO,QAAQC,S,CAQjB,gBAAAM,CAAiBd,GACfM,KAAKG,cAAgBT,EACrB,OAAOO,QAAQC,S,CAOjB,QAAAO,CAASf,GAEPgB,QAAQC,KAAK,uFAAwFX,KAAKY,IAC1GZ,KAAKP,aAAaC,GAClB,OAAOO,QAAQC,S,CAQjB,SAAAW,CAAUC,GACRd,KAAKe,OAASD,EACd,OAAOb,QAAQC,S,CAQjB,QAAAc,CAASF,GACPd,KAAKiB,QAAUH,EACf,OAAOb,QAAQC,S,CAQjB,WAAAgB,CAAYJ,GACVd,KAAKmB,SAAWL,EAChB,OAAOb,QAAQC,S,CASjB,QAAAkB,CAASN,EAAiB,MACxB,GAAId,KAAKmB,SAAU,CACjB,OAAOlB,QAAQC,S,CAEjBF,KAAKqB,QAAUP,EACf,OAAOb,QAAQC,S,CAGjB,WAAAoB,CAAYC,GAEVA,EAAMC,iBAEN,GAAIxB,KAAKmB,SAAU,CACjB,M,CAGFnB,KAAKoB,WACLpB,KAAKP,cAAcO,KAAKH,Q,CAG1B,eAAA4B,GACE,OAAOzB,KAAKG,cAAgB,gBAAkBH,KAAKH,O,CAGrD,kBAAA6B,GACE,IAAK1B,KAAKD,WAAY,CACpBC,KAAKD,WAAaC,KAAKY,GAAGe,WAAWC,cAAc,Q,EAIvD,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,2CACHC,MAAM,kBACNC,OAAQ,KACNlC,KAAKoB,SAAS,MAAM,EAEtBe,QAASnC,KAAKsB,YACdc,QAAS,KACPpC,KAAKoB,UAAU,GAGjBU,EAAA,SAAAE,IAAA,2CACEK,IAAMzB,GAAQZ,KAAKD,WAAaa,EAChC0B,KAAK,WAAU,aACHC,EAAyBvC,KAAKY,IAC1Cf,QAASG,KAAKH,QACdM,cAAeH,KAAKG,cACpBgB,SAAUnB,KAAKmB,WAEhBnB,KAAKH,UAAYG,KAAKG,eACrB2B,EAAA,OAAAE,IAAA,2CACEQ,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BAA4B,cACtB,SAEZd,EAAA,QAAAE,IAAA,2CACEa,EAAE,wBACFC,OAAO,QAAO,eACD,IAAG,iBACD,QAAO,kBACN,WAKrB9C,KAAKG,eACJ2B,EAAA,OAAAE,IAAA,2CACEQ,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BAA4B,cACtB,iBAEZd,EAAA,QAAAE,IAAA,2CAAMa,EAAE,WAAU,eAAc,IAAG,iBAAgB,QAAO,kBAAiB,W"}