{"version":3,"names":["MarketPaginationNav","listSelectionEventHandler","e","newSelectionValue","detail","this","marketInternalPaginationNavigation","emit","page","prevPage","currentPage","pageSize","handlePrev","hasPreviousPage","handleNext","hasNextPage","Boolean","totalPages","nextPage","pageList","isLargeDataset","largeDatasetSteps","Array","from","length","Math","floor","map","_","i","render","renderPageInfo","MarketButtonTagName","getNamespacedTagFor","MarketButtonDropdownTagName","MarketFilterButtonTagName","MarketListTagName","MarketRowTagName","MarketAccessoryTagName","h","Host","key","class","size","disabled","onClick","slot","width","height","viewBox","xmlns","d","name","pageNum","selected","value"],"sources":["src/components/market-pagination/subcomponents/market-pagination-nav/market-pagination-nav.tsx"],"sourcesContent":["import { Component, Element, Event, EventEmitter, h, Host, Listen, Prop } from '@stencil/core';\n\nimport { getNamespacedTagFor } from '../../../../utils/namespace';\nimport { TMarketInternalPaginationNavigationEventDetail } from '../../events';\n\n@Component({\n  tag: 'market-pagination-nav',\n})\nexport class MarketPaginationNav {\n  @Element() el: HTMLMarketPaginationNavElement;\n\n  /**\n   * The current page being viewed.\n   */\n  @Prop() readonly currentPage!: number;\n\n  /**\n   * Functionally and visually disables the navigation buttons\n   */\n  @Prop({ reflect: true }) readonly disabled: boolean = false;\n\n  /**\n   * The total number of pages.\n   */\n  @Prop() readonly totalPages!: number;\n\n  /**\n   * Allow the user to navigate to the next page\n   */\n  @Prop() readonly hasNextPage!: boolean;\n\n  /**\n   * Allow the user to navigate to the previous page\n   */\n  @Prop() readonly hasPreviousPage!: boolean;\n\n  /**\n   * The number of results displayed per page.\n   * Required to emit this value as part of the navigation event.\n   */\n  @Prop() readonly pageSize: string;\n\n  /**\n   * Fired when a new page is selected\n   *\n   * @property {string} page - page number to navigate to\n   * @property {string} prevPage - the current page _before_ navigation\n   * @property {string} pageSize - the number of items per page\n   */\n  @Event() marketInternalPaginationNavigation: EventEmitter<TMarketInternalPaginationNavigationEventDetail>;\n\n  @Listen('marketListSelectionsDidChange')\n  listSelectionEventHandler(e: CustomEvent) {\n    const { newSelectionValue } = e.detail;\n    this.marketInternalPaginationNavigation.emit({\n      page: newSelectionValue,\n      prevPage: `${this.currentPage}`,\n      pageSize: this.pageSize,\n    });\n  }\n\n  handlePrev() {\n    if (this.hasPreviousPage === false || this.currentPage === 1) {\n      return;\n    }\n\n    const prevPage = this.currentPage - 1;\n    this.marketInternalPaginationNavigation.emit({\n      page: `${prevPage}`,\n      prevPage: `${this.currentPage}`,\n      pageSize: this.pageSize,\n    });\n  }\n\n  handleNext() {\n    if (this.hasNextPage === false || (Boolean(this.totalPages) && this.currentPage === this.totalPages)) {\n      return;\n    }\n\n    const nextPage = this.currentPage + 1;\n    this.marketInternalPaginationNavigation.emit({\n      page: `${nextPage}`,\n      prevPage: `${this.currentPage}`,\n      pageSize: this.pageSize,\n    });\n  }\n\n  /**\n   * Dropdown navigates by every 10 pages if there are more than 20 pages\n   *\n   * pageList for a large dataset = [10, 20, 30, 40, 50...]\n   * pageList for a small dataset = [1, 2, 3, 5, 6, 7...]\n   */\n  get pageList() {\n    const isLargeDataset = this.totalPages > 20;\n    const largeDatasetSteps = 10;\n\n    return isLargeDataset\n      ? Array.from({ length: Math.floor(this.totalPages / largeDatasetSteps) }).map(\n          (_, i) => (i + 1) * largeDatasetSteps,\n        )\n      : Array.from({ length: this.totalPages }).map((_, i) => i + 1);\n  }\n\n  render() {\n    // Don't render page info when totalPages is missing or set to 0\n    const renderPageInfo = Boolean(this.totalPages);\n\n    const hasPreviousPage = this.currentPage > 1 || this.hasPreviousPage;\n    const hasNextPage = this.currentPage < this.totalPages || this.hasNextPage;\n\n    const MarketButtonTagName = getNamespacedTagFor('market-button');\n    const MarketButtonDropdownTagName = getNamespacedTagFor('market-button-dropdown');\n    const MarketFilterButtonTagName = getNamespacedTagFor('market-filter-button');\n    const MarketListTagName = getNamespacedTagFor('market-list');\n    const MarketRowTagName = getNamespacedTagFor('market-row');\n    const MarketAccessoryTagName = getNamespacedTagFor('market-accessory');\n\n    return (\n      <Host class=\"market-pagination-nav\">\n        <nav>\n          <MarketButtonTagName\n            size=\"small\"\n            disabled={this.disabled || !hasPreviousPage}\n            onClick={() => this.handlePrev()}\n          >\n            <MarketAccessoryTagName slot=\"icon\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M4.29289 11.293C3.90237 11.6835 3.90237 12.3167 4.29289 12.7072L11.2929 19.7072L12.7071 18.293L7.41421 13.0001L19 13.0001V11.0001L7.41421 11.0001L12.7071 5.70718L11.2929 4.29297L4.29289 11.293Z\"\n                />\n              </svg>\n            </MarketAccessoryTagName>\n          </MarketButtonTagName>\n\n          {renderPageInfo && (\n            <MarketButtonDropdownTagName disabled={this.disabled} no-caret popover-placement=\"bottom-end\" persist-list>\n              <MarketFilterButtonTagName size=\"small\" slot=\"trigger\">\n                <span>\n                  <slot name=\"nav-label\">Page</slot>\n                </span>\n                <span slot=\"feedback\">\n                  <slot name=\"nav-feedback\">\n                    {this.currentPage} of {this.totalPages}\n                  </slot>\n                </span>\n              </MarketFilterButtonTagName>\n              <MarketListTagName slot=\"content\">\n                {this.pageList.map((pageNum) => (\n                  <MarketRowTagName\n                    key={`pageNav_${pageNum}`}\n                    selected={this.currentPage === pageNum}\n                    value={`${pageNum}`}\n                  >\n                    {pageNum}\n                  </MarketRowTagName>\n                ))}\n              </MarketListTagName>\n            </MarketButtonDropdownTagName>\n          )}\n\n          <MarketButtonTagName size=\"small\" disabled={this.disabled || !hasNextPage} onClick={() => this.handleNext()}>\n            <MarketAccessoryTagName slot=\"icon\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M19.7071 11.293C20.0976 11.6835 20.0976 12.3167 19.7071 12.7072L12.7071 19.7072L11.2929 18.293L16.5858 13.0001L5 13.0001L5 11.0001L16.5858 11.0001L11.2929 5.70718L12.7071 4.29297L19.7071 11.293Z\"\n                />\n              </svg>\n            </MarketAccessoryTagName>\n          </MarketButtonTagName>\n        </nav>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}