{"version":3,"names":["marketInputPasswordCss","MarketInputPasswordStyle0","MarketInputPassword","setFocus","value","this","disabled","readonly","focused","marketInputText","registerSlottedInput","slottedInput","el","querySelector","togglePasswordVisibility","e","type","stopPropagation","handleKeyDown","key","submitFormImplicitly","renderSvgHidden","h","width","height","viewBox","xmlns","d","renderSvgVisible","render","MarketInputTextTagName","getNamespacedTagFor","MarketAccessoryTagName","Host","class","onKeyDown","ref","onBlur","onClick","onFocus","inputId","name","placeholder","maxlength","minlength","size","required","invalid","autocomplete","inputmode","onSlotchange","slot"],"sources":["src/components/market-input-password/market-input-password.css?tag=market-input-password&encapsulation=shadow","src/components/market-input-password/market-input-password.tsx"],"sourcesContent":["@import \"../../styles/mixins/component-base.css\";\n\n:host {\n  --focus-ring-color: color-mix(in srgb, var(--core-focus-ring-color) 100%, transparent);\n\n  display: block;\n}\n\n.toggle {\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  border: none;\n  background: transparent;\n  outline: none;\n  cursor: pointer;\n  appearance: none;\n\n  svg {\n    display: block;\n    fill: var(--core-text-20-color);\n  }\n\n  &:focus-visible {\n    border-radius: var(--core-radius-10);\n    outline: var(--core-focus-ring-border-size) solid var(--focus-ring-color);\n    outline-offset: calc(var(--core-focus-ring-border-size) * -1);\n  }\n}\n","import { Component, Prop, Element, Host, h, State, Method } from '@stencil/core';\n\nimport { submitFormImplicitly } from '../../utils/forms';\n\nimport { getNamespacedTagFor } from '../../utils/namespace';\n\n/**\n * @slot - The label for the input.\n *\n * @slot input - Can be used to slot your own HTML input, if needed (ex. if supporting browser\n * autofill)\n */\n@Component({\n  tag: 'market-input-password',\n  shadow: true,\n  styleUrl: 'market-input-password.css',\n})\nexport class MarketInputPassword {\n  @Element() el: HTMLMarketInputPasswordElement;\n\n  /**\n   * A string specifying an ID for the input.\n   */\n  @Prop() readonly inputId: string;\n\n  /**\n   * A string specifying a name for the input.\n   */\n  @Prop() readonly name: string;\n\n  /**\n   * A string specifying a value for the input. This will be visually shown on the input and can be edited by the user.\n   */\n  @Prop() readonly value: string;\n\n  /**\n   * A string specifying the placeholder of the input.\n   * This is shown before a user attempts to add a value, given no value is already provided.\n   */\n  @Prop() readonly placeholder: string;\n\n  /**\n   * A number specifying the maximum length of characters for the input value.\n   */\n  @Prop() readonly maxlength: number;\n\n  /**\n   * A number specifying the minimum length of characters for the input value.\n   */\n  @Prop() readonly minlength: number;\n\n  /**\n   * String for setting input size.\n   * Sizes `small` and `medium` visually hide the label,\n   * but you should still provide one for accessibility purposes.\n   */\n  @Prop({ reflect: true }) readonly size: 'small' | 'medium' | 'large' = 'large';\n\n  /**\n   * A boolean representing whether the input is readonly or not.\n   */\n  @Prop() readonly readonly: boolean;\n\n  /**\n   * Whether or not the input is required; used to validate the input's value.\n   * See MDN on the [required attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/required)\n   */\n  @Prop() readonly required: boolean;\n\n  /**\n   * A boolean representing whether the input is disabled or not.\n   * This visually and functionally will disable the input.\n   */\n  @Prop() readonly disabled: boolean;\n\n  /**\n   * A boolean representing whether the input is focused or not.\n   */\n  @Prop({ mutable: true }) focused: boolean;\n\n  /**\n   * A boolean representing whether the input is invalid or not.\n   * This represents error states.\n   */\n  @Prop() readonly invalid: boolean;\n\n  /**\n   * Whether or not this input should allow autocompletion by the browser\n   * Accepts a boolean, or \"true\", \"false\", \"on\", \"off\" or an\n   * [accepted string value for the autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete)\n   */\n  @Prop() readonly autocomplete: string | boolean;\n\n  /**\n   * Allows a browser to display an appropriate virtual keyboard.\n   * [Accepted values](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/inputmode).\n   */\n  @Prop() readonly inputmode: string;\n\n  marketInputText: HTMLMarketInputTextElement;\n\n  /**\n   * Type specified for the password input. Toggled by the input's right icon (eye).\n   */\n  @State() type: 'text' | 'password' = 'password';\n\n  /**\n   * Sets focus styling on `<market-input-password>`. Toggles focus on the inner `<input>` if true, and blurs focus if false.\n   */\n  @Method()\n  async setFocus(value: boolean = true) {\n    if (this.disabled || this.readonly) {\n      return;\n    }\n    this.focused = value;\n    await this.marketInputText.setFocus(value);\n  }\n\n  slottedInput: HTMLInputElement;\n\n  registerSlottedInput() {\n    // We need to pass in the slotted input here since it's inside market-input-password's\n    // light DOM, and market-input-text is unable to find it.\n    this.slottedInput = this.el.querySelector('input[slot=input]');\n    if (this.slottedInput) {\n      this.marketInputText.registerSlottedInput(this.slottedInput);\n    }\n  }\n\n  togglePasswordVisibility(e: Event) {\n    this.type = this.type === 'password' ? 'text' : 'password';\n    e.stopPropagation();\n  }\n\n  handleKeyDown(e: KeyboardEvent) {\n    if (e.key === 'Enter') {\n      submitFormImplicitly(this.el);\n    }\n  }\n\n  renderSvgHidden() {\n    return (\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M16.5481 17.9609L16.55 17.96L19.3 20.71L20.71 19.3L18.31 16.9C19.81 15.78 21.06 14.27 21.91 12.43C22.03 12.16 22.03 11.85 21.91 11.59C20.03 7.52004 16.23 5.00004 12 5.00004C10.39 5.00004 8.85 5.37004 7.45 6.04004L4.71 3.29004L3.29361 4.70643L14.0183 15.4311L14.02 15.43L15.01 16.42L15.008 16.4208L16.5481 17.9609ZM11.49 10.07L13.93 12.51C13.97 12.35 14 12.18 14 12C14 10.9 13.1 10 12 10C11.82 10 11.65 10.03 11.49 10.07ZM15.43 14.02L16.86 15.45C18.09 14.6 19.14 13.43 19.89 12C18.28 8.90004 15.29 7.00004 12 7.00004C10.95 7.00004 9.94 7.21004 8.99 7.58004L9.98 8.57004C10.57 8.22004 11.26 8.00004 12 8.00004C14.21 8.00004 16 9.79004 16 12C16 12.74 15.79 13.43 15.43 14.02Z\"\n        />\n        <path d=\"M11.7512 15.9924L8.0076 12.2488C8.13092 14.2606 9.73948 15.8691 11.7512 15.9924Z\" />\n        <path d=\"M5.61696 9.8582C5.03307 10.4841 4.52321 11.2015 4.11 12C5.72 15.1 8.71 17 12 17C12.244 17 12.4859 16.9887 12.7254 16.9666L14.4639 18.7052C13.6686 18.8984 12.8439 19 12 19C7.77 19 3.97 16.48 2.09 12.42C1.97 12.16 1.97 11.85 2.09 11.58C2.63958 10.3904 3.35638 9.33864 4.19985 8.44109L5.61696 9.8582Z\" />\n      </svg>\n    );\n  }\n\n  renderSvgVisible() {\n    return (\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M2.09 11.58C3.97 7.52 7.77 5 12 5C16.23 5 20.03 7.52 21.91 11.58C22.03 11.84 22.03 12.15 21.91 12.42C20.03 16.48 16.23 19 12 19C7.77 19 3.97 16.48 2.09 12.42C1.97 12.16 1.97 11.85 2.09 11.58ZM4.11 12C5.72 15.1 8.71 17 12 17C15.29 17 18.28 15.1 19.89 12C18.28 8.9 15.29 7 12 7C8.71 7 5.72 8.9 4.11 12ZM8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16C9.79 16 8 14.21 8 12ZM10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10C10.9 10 10 10.9 10 12Z\"\n        />\n      </svg>\n    );\n  }\n\n  render() {\n    const MarketInputTextTagName = getNamespacedTagFor('market-input-text');\n    const MarketAccessoryTagName = getNamespacedTagFor('market-accessory');\n\n    return (\n      <Host\n        class=\"market-input-password\"\n        onKeyDown={(e) => {\n          this.handleKeyDown(e);\n        }}\n      >\n        <MarketInputTextTagName\n          type={this.type}\n          ref={(el) => (this.marketInputText = el)}\n          onBlur={() => {}}\n          onClick={() => {}}\n          onFocus={() => {}}\n          inputId={this.inputId}\n          name={this.name}\n          placeholder={this.placeholder}\n          maxlength={this.maxlength}\n          minlength={this.minlength}\n          size={this.size}\n          value={this.value}\n          readonly={this.readonly}\n          required={this.required}\n          disabled={this.disabled}\n          invalid={this.invalid}\n          autocomplete={this.autocomplete}\n          inputmode={this.inputmode}\n        >\n          <slot></slot>\n          <slot\n            name=\"input\"\n            onSlotchange={() => this.registerSlottedInput()}\n            // if there is a slotted input, assign it to market-input-text's \"input\" slot\n            slot={this.slottedInput ? 'input' : ''}\n          ></slot>\n          <MarketAccessoryTagName slot=\"trailing-accessory\" size=\"image\">\n            <button\n              class=\"toggle\"\n              onClick={(e: Event) => {\n                this.togglePasswordVisibility(e);\n              }}\n              onKeyDown={(e) => {\n                // don't submit a form if enter is pressed when the toggle is focused\n                e.stopPropagation();\n              }}\n            >\n              {this.type === 'password' && this.renderSvgHidden()}\n              {this.type === 'text' && this.renderSvgVisible()}\n            </button>\n          </MarketAccessoryTagName>\n        </MarketInputTextTagName>\n      </Host>\n    );\n  }\n}\n"],"mappings":"iIAAA,MAAMA,EAAyB,4xBAC/B,MAAAC,EAAeD,E,MCgBFE,EAAmB,M,gLAuCyC,Q,qLAgDlC,U,CAMrC,cAAMC,CAASC,EAAiB,MAC9B,GAAIC,KAAKC,UAAYD,KAAKE,SAAU,CAClC,M,CAEFF,KAAKG,QAAUJ,QACTC,KAAKI,gBAAgBN,SAASC,E,CAKtC,oBAAAM,GAGEL,KAAKM,aAAeN,KAAKO,GAAGC,cAAc,qBAC1C,GAAIR,KAAKM,aAAc,CACrBN,KAAKI,gBAAgBC,qBAAqBL,KAAKM,a,EAInD,wBAAAG,CAAyBC,GACvBV,KAAKW,KAAOX,KAAKW,OAAS,WAAa,OAAS,WAChDD,EAAEE,iB,CAGJ,aAAAC,CAAcH,GACZ,GAAIA,EAAEI,MAAQ,QAAS,CACrBC,EAAqBf,KAAKO,G,EAI9B,eAAAS,GACE,OACEC,EAAA,OAAKC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,8BACpDJ,EAAA,oBACY,UAAS,YACT,UACVK,EAAE,qqBAEJL,EAAA,QAAMK,EAAE,qFACRL,EAAA,QAAMK,EAAE,8S,CAKd,gBAAAC,GACE,OACEN,EAAA,OAAKC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,8BACpDJ,EAAA,oBACY,UAAS,YACT,UACVK,EAAE,4e,CAMV,MAAAE,GACE,MAAMC,EAAyBC,EAAoB,qBACnD,MAAMC,EAAyBD,EAAoB,oBAEnD,OACET,EAACW,EAAI,CAAAd,IAAA,2CACHe,MAAM,wBACNC,UAAYpB,IACVV,KAAKa,cAAcH,EAAE,GAGvBO,EAACQ,EAAsB,CAAAX,IAAA,2CACrBH,KAAMX,KAAKW,KACXoB,IAAMxB,GAAQP,KAAKI,gBAAkBG,EACrCyB,OAAQ,OACRC,QAAS,OACTC,QAAS,OACTC,QAASnC,KAAKmC,QACdC,KAAMpC,KAAKoC,KACXC,YAAarC,KAAKqC,YAClBC,UAAWtC,KAAKsC,UAChBC,UAAWvC,KAAKuC,UAChBC,KAAMxC,KAAKwC,KACXzC,MAAOC,KAAKD,MACZG,SAAUF,KAAKE,SACfuC,SAAUzC,KAAKyC,SACfxC,SAAUD,KAAKC,SACfyC,QAAS1C,KAAK0C,QACdC,aAAc3C,KAAK2C,aACnBC,UAAW5C,KAAK4C,WAEhB3B,EAAA,QAAAH,IAAA,6CACAG,EAAA,QAAAH,IAAA,2CACEsB,KAAK,QACLS,aAAc,IAAM7C,KAAKK,uBAEzByC,KAAM9C,KAAKM,aAAe,QAAU,KAEtCW,EAACU,EAAsB,CAAAb,IAAA,2CAACgC,KAAK,qBAAqBN,KAAK,SACrDvB,EAAA,UAAAH,IAAA,2CACEe,MAAM,SACNI,QAAUvB,IACRV,KAAKS,yBAAyBC,EAAE,EAElCoB,UAAYpB,IAEVA,EAAEE,iBAAiB,GAGpBZ,KAAKW,OAAS,YAAcX,KAAKgB,kBACjChB,KAAKW,OAAS,QAAUX,KAAKuB,sB"}