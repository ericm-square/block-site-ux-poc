import{r as t,c as a,h as i,H as o,g as e}from"./p-c9795ae2.js";import{c as r}from"./p-52c3ceb3.js";import{g as s,s as n}from"./p-3c1e3098.js";import{c as d}from"./p-850c2440.js";import"./p-a7d431c5.js";const l=":host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}@keyframes market-popup{from{opacity:0%;transform:scale(0.9, 0.9)}to{opacity:100%;transform:scale(1, 1)}}@keyframes market-popdown{from{opacity:100%;transform:scale(1, 1)}to{opacity:0%;transform:scale(0.9, 0.9)}}@keyframes market-slideup{from{opacity:0%;transform:translateY(80vh)}to{opacity:100%;transform:translateY(0)}}@keyframes market-slidedown{from{opacity:100%;transform:translateY(0)}to{opacity:0%;transform:translateY(80vh)}}@keyframes market-slide-left-enter{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes market-slide-left-exit{from{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes market-fade-in{from{opacity:0%}to{opacity:100%}}@keyframes market-fade-out{from{opacity:100%}to{opacity:0%}}@keyframes market-input-autofill-start{from{}to{}}@keyframes market-input-autofill-cancel{from{}to{}}@keyframes market-input-search-compact-enter{from{}to{}}@keyframes market-input-search-compact-exit{from{}to{}}:host{display:flex;flex-direction:column;justify-content:stretch;overflow:hidden}:host ::slotted(main),:host ::slotted(.main){flex:0 1 100%;overflow-y:auto;height:100%}:host ::slotted(.market-header){margin-bottom:var(--core-metrics-spacing-300);padding-top:0}:host ::slotted(.market-footer){padding-bottom:0}:host{position:absolute;top:0;left:0;width:100%;height:100%;padding-top:var(--modal-full-vertical-padding-size);padding-bottom:var(--modal-full-vertical-padding-size);background-color:var(--modal-full-background-color);animation:var(--modal-full-animation-enter-transition-duration)\n    market-slideup\n    forwards\n    var(--modal-full-animation-enter-transition-easing)}:host ::slotted(*){padding-right:var(--modal-full-horizontal-padding-size);padding-left:var(--modal-full-horizontal-padding-size)}:host([hidden]){animation-name:market-slidedown;animation-duration:var(--modal-full-animation-exit-transition-duration);animation-timing-function:var(--modal-full-animation-exit-transition-easing)}@media (min-width: 800px){:host{top:0;left:auto;width:var(--modal-partial-width);height:auto;max-height:calc(100vh - var(--modal-partial-vertical-screen-buffer-size) * 2);padding-top:var(--modal-partial-vertical-padding-size);padding-bottom:var(--modal-partial-vertical-padding-size);border-radius:var(--modal-partial-border-radius);animation:var(--modal-partial-animation-enter-transition-duration)\n      market-popup\n      forwards\n      var(--modal-partial-animation-enter-transition-easing)}:host ::slotted(*){padding-right:var(--modal-partial-horizontal-padding-size);padding-left:var(--modal-partial-horizontal-padding-size)}:host([hidden]){animation-name:market-popdown;animation-duration:var(--modal-partial-animation-exit-transition-duration);animation-timing-function:var(--modal-partial-animation-exit-transition-easing)}}";const m=l;const f=class{constructor(i){t(this,i);this.marketDialogLoaded=a(this,"marketDialogLoaded",7);this.marketDialogDismissed=a(this,"marketDialogDismissed",7);this.marketDialogDidDismiss=a(this,"marketDialogDidDismiss",7);this.type="modal-partial";this.hidden=false;this.dialogID=undefined;this.index=undefined;this.trapFocus=false;this.animationEnterDuration=r.MODAL_PARTIAL_ANIMATION_ENTER_TRANSITION_DURATION;this.animationExitDuration=r.MODAL_PARTIAL_ANIMATION_EXIT_TRANSITION_DURATION}headerNavigateEventHandler(t){const{detail:a,target:i}=t;if(a.action==="close"){if(i.closest(s())===this.el){this.dismiss()}}}dismiss(t){const{defaultPrevented:a}=this.marketDialogDismissed.emit({dialog:this.el,type:this.type,origin:(t===null||t===void 0?void 0:t.origin)||this.el});if(!a){this.hidden=true;setTimeout((()=>{this.marketDialogDidDismiss.emit({dialog:this.el,type:this.type,origin:this.el})}),this.animationExitDuration)}return Promise.resolve()}onTrapFocusChanged(t,a){if(t!==a){if(t){this.activateFocusTrap()}else{this.deactivateFocusTrap()}}}activateFocusTrap(t,a){if(this.focusTrap){this.focusTrap.activate(a!==null&&a!==void 0?a:{});if(!this.trapFocus){this.trapFocus=true}}else{this.focusTrap=d({el:this.el,options:t,activateOptions:a})}return Promise.resolve()}deactivateFocusTrap(t={}){if(this.focusTrap){this.focusTrap.deactivate(Object.assign({returnFocus:true,checkCanReturnFocus:t=>new Promise((a=>{if(typeof(t===null||t===void 0?void 0:t.setFocus)==="function"){t.setFocus()}else{a()}}))},t));this.focusTrap=undefined}return Promise.resolve()}connectedCallback(){this.connectedCallbackTimeout=setTimeout((()=>{this.marketDialogLoaded.emit({dialog:this.el,type:this.type});if(this.trapFocus){this.activateFocusTrap()}}),this.animationEnterDuration)}componentWillLoad(){n(this.el)}disconnectedCallback(){this.deactivateFocusTrap();clearTimeout(this.connectedCallbackTimeout)}render(){return i(o,{key:"3230415c4df282cc7e8d956fffdb01cdff152372",class:"market-modal-partial",role:"dialog"},i("slot",{key:"d028733389b598ad8db15899e92a589ce3010cff"}))}get el(){return e(this)}static get watchers(){return{trapFocus:["onTrapFocusChanged"]}}};f.style=m;export{f as market_modal_partial};
//# sourceMappingURL=p-3d1db423.entry.js.map