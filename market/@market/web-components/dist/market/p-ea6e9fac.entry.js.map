{"version":3,"names":["marketTableCellCss","MarketTableCellStyle0","MarketTableCell","_updateColumnRelatedProperties","column","Promise","resolve","this","name","align","hidden","stickTo","_stickSelf","_updateFirstCellProperties","rowEl","leadingIndentation","el","style","setProperty","position","slot","_unstickSelf","originalSlot","removeAttribute","componentWillLoad","getAttribute","handleClick","interactive","marketTableCellClicked","emit","handleKeydown","e","target","key","preventDefault","render","disabled","h","Host","class","role","tabindex","onClick","onKeydown"],"sources":["src/components/market-table-cell/market-table-cell.css?tag=market-table-cell&encapsulation=shadow","src/components/market-table-cell/market-table-cell.tsx"],"sourcesContent":["/* TODO: add design tokens for table components */\n\n@import \"../../styles/mixins/tables.css\";\n\n:host {\n  --transition-duration: 0.2s; /* TODO: design token when design finalizes spec */\n\n  @extend %table-cell;\n\n  transition: background-color var(--transition-duration);\n\n  @media (hover: hover) {\n    /* media query is to suppress hover styles on mobile devices */\n    &([interactive]:hover) {\n      background-color: var(--table-cell-hover-state-background-color);\n    }\n  }\n\n  &([interactive]) {\n    cursor: pointer;\n  }\n\n  &([interactive]:focus) {\n    outline: none; /* override default browser focus styles */\n  }\n\n  &([interactive]:not([disabled]):focus) {\n    background-color: var(--table-cell-focus-state-background-color);\n  }\n\n  &([active]),\n  &([interactive]:not([disabled]):active) {\n    background-color: var(--table-cell-pressed-state-background-color);\n  }\n\n  &([interactive][disabled]) {\n    pointer-events: none;\n  }\n\n  &([disabled]) {\n    background-color: transparent;\n    color: var(--table-cell-disabled-state-text-color);\n    pointer-events: none;\n  }\n\n  &([hidden]) {\n    display: none;\n  }\n}\n\n:host(:first-of-type) {\n  padding-left: var(--table-cell-padding, 8px);\n\n  ::slotted(button) {\n    /* TODO: These should have design tokens in the future */\n    all: unset;\n    display: flex; /* stylelint-disable-line order/properties-order */\n    justify-content: space-between;\n    align-items: center;\n    padding-right: var(--core-metrics-spacing-100);\n    padding-left:\n      calc(\n        var(--cell-indent-level) *\n        var(--table-row-indentation-padding, 40px) +\n        var(--core-metrics-spacing-100)\n      );\n    color: var(--table-cell-normal-state-content-color, var(--core-fill-black-color));\n    cursor: pointer;\n\n    &:focus-visible {\n      outline: none;\n    }\n\n    &:focus {\n      color: var(--table-accordion-focus-state-content-color, var(--core-fill-black-color));\n    }\n\n    &:hover {\n      color: var(--table-accordion-hover-state-content-color, var(--core-fill-black-color));\n    }\n\n    &:active {\n      color: var(--table-accordion-pressed-state-content-color, var(--core-fill-black-color));\n    }\n  }\n\n  ::slotted([slot=\"nested-row-indicator\"]) {\n    height: 100%;\n  }\n}\n\n/* TODO: update pixels to variables once they exist */\n::slotted([slot=\"leading-accessory\"][size=\"image\"]) {\n  margin-right: 16px;\n  margin-left: 12px;\n}\n\n::slotted([slot=\"leading-accessory\"][size=\"icon\"]) {\n  margin-right: 16px;\n  margin-left: 16px;\n}\n\n::slotted([slot=\"trailing-accessory\"][size=\"image\"]) {\n  margin-right: 12px;\n  margin-left: 16px;\n}\n\n::slotted([slot=\"trailing-accessory\"][size=\"icon\"]) {\n  margin-right: 16px;\n  margin-left: 16px;\n}\n\n::slotted([slot=\"nested-row-indicator\"]) {\n  color: var(--table-cell-normal-state-content-color, var(--core-fill-black-color));\n}\n\n::slotted([slot=\"nested-row-indicator\"]:focus-visible) {\n  outline: none;\n}\n\n::slotted([slot=\"nested-row-indicator\"]:focus) {\n  color: var(--table-accordion-focus-state-content-color, var(--core-fill-black-color));\n}\n\n::slotted([slot=\"nested-row-indicator\"]:hover) {\n  color: var(--table-accordion-hover-state-content-color, var(--core-fill-black-color));\n}\n\n::slotted([slot=\"nested-row-indicator\"]:active) {\n  color: var(--table-accordion-pressed-state-content-color, var(--core-fill-black-color));\n}\n","import { Component, Host, Prop, Element, Event, EventEmitter, State, Method, h } from '@stencil/core';\n\n/**\n * @slot - Default slot for content\n * @slot leading-accessory - Intended for use with a leading accessory.\n * @slot trailing-accessory - Intended for use with a trailing accessory.\n */\n@Component({\n  tag: 'market-table-cell',\n  styleUrl: 'market-table-cell.css',\n  shadow: true,\n})\nexport class MarketTableCell {\n  @Element() el: HTMLMarketTableCellElement;\n\n  /**\n   * Content/text alignment for this cell, default is set based on the alignment of the\n   * market-table-column with matching column/name prop\n   *\n   * **NOTE:** this is set automatically when used in a `market-table` with a corresponding\n   * `market-table-column`.\n   */\n  @Prop({ mutable: true, reflect: false }) align: false | 'left' | 'right' = false;\n\n  /**\n   * A key that matches the 'name' prop on the appropriate market-table-column\n   *\n   * **NOTE:** this is set automatically when used in a `market-table` with a corresponding\n   * `market-table-column`.\n   */\n  @Prop({ mutable: true, reflect: true }) column: string;\n\n  /**\n   * Determines how much to indent the cell by.\n   * This will be multiplied by the default indentation size (40px) for uniform indentation levels\n   *\n   * **NOTE:** this is inherited automatically if set on the parent `market-table-row`.\n   */\n  @Prop({ mutable: true, reflect: false }) leadingIndentation: number = 0;\n\n  /**\n   * Whether the cell is currently active.\n   */\n  @Prop({ reflect: true }) readonly active: boolean = false;\n\n  /**\n   * Whether or not the cell is interactive. Results in cell receiving\n   * hover and active styling when hovered/clicked.\n   */\n  @Prop({ reflect: true }) readonly interactive: boolean = false;\n\n  /**\n   * Whether the cell is disabled.\n   */\n  @Prop({ reflect: true }) readonly disabled: boolean = false;\n\n  /**\n   * Fired whenever an interactive cell is clicked.\n   */\n  @Event({ bubbles: true, composed: true }) marketTableCellClicked: EventEmitter;\n\n  /**\n   * The slot this element was originally placed in\n   */\n  @State() originalSlot: string;\n\n  /**\n   * Whether or not the table cell is hidden.\n   *\n   * **NOTE:** this is derived from the hidden prop of the corresponding\n   * `market-table-column`, if one exists\n   */\n  @State() hidden: boolean = false;\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Forwards appropriate properties from matching header market-table-column element to this cell.\n   */\n  @Method()\n  _updateColumnRelatedProperties(column: HTMLMarketTableColumnElement) {\n    if (!column) {\n      return Promise.resolve();\n    }\n\n    this.column = column.name;\n    this.align = column.align;\n    this.hidden = column.hidden;\n\n    if (column.stickTo) {\n      this._stickSelf(column.stickTo);\n    }\n\n    return Promise.resolve();\n  }\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Sets properties specified in the row element. Leading and trailing\n   * accessories are best set on the first or last cell to not mess\n   * with the grid structure\n   * @param rowEl\n   */\n  @Method()\n  _updateFirstCellProperties(rowEl: HTMLMarketTableRowElement) {\n    this.leadingIndentation = rowEl.leadingIndentation || 0;\n\n    // Sets leading accessory level of indentation on current row\n    this.el.style.setProperty('--cell-indent-level', `${this.leadingIndentation}`);\n\n    return Promise.resolve();\n  }\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Moves this column into a slot inside the market-table-area\n   * which is fixed to the provided edge (position), allowing\n   * for fixed columns\n   */\n  @Method()\n  _stickSelf(position: 'left' | 'right') {\n    if (position) {\n      this.el.slot = `sticky-${position}`;\n    }\n    return Promise.resolve();\n  }\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Moves this column back into it's original slot from a slot\n   * within a fixed market-table-area\n   */\n  @Method()\n  _unstickSelf() {\n    if (!this.originalSlot) {\n      this.el.removeAttribute('slot');\n    } else {\n      this.el.slot = this.originalSlot;\n    }\n    return Promise.resolve();\n  }\n\n  componentWillLoad() {\n    this.originalSlot = this.el.getAttribute('slot');\n  }\n\n  handleClick() {\n    if (this.interactive) {\n      this.marketTableCellClicked.emit();\n    }\n  }\n\n  handleKeydown(e) {\n    // don't intercept keydown of descendant elements\n    // e.g. when typing into nested input fields (gross)\n    if (e.target !== this.el) {\n      return;\n    }\n\n    switch (e.key) {\n      case 'Enter':\n        this.handleClick();\n        break;\n      case ' ':\n        this.handleClick();\n        e.preventDefault(); // spacebar should not scroll page\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { disabled, interactive, align, hidden } = this;\n\n    return (\n      <Host\n        class=\"market-table-cell\"\n        role=\"cell\"\n        align={align === 'right' && align}\n        hidden={hidden}\n        tabindex={interactive && !disabled ? '0' : null}\n        onClick={() => this.handleClick()}\n        onKeydown={(e) => this.handleKeydown(e)}\n      >\n        <slot name=\"nested-row-indicator\"></slot>\n        <slot name=\"leading-accessory\"></slot>\n        <slot></slot>\n        <slot name=\"trailing-accessory\"></slot>\n      </Host>\n    );\n  }\n}\n"],"mappings":"gEAAA,MAAMA,EAAqB,6uHAC3B,MAAAC,EAAeD,E,MCWFE,EAAe,M,mGAUiD,M,8CAgBL,E,YAKlB,M,iBAMK,M,cAKH,M,wCAkB3B,K,CAO3B,8BAAAC,CAA+BC,GAC7B,IAAKA,EAAQ,CACX,OAAOC,QAAQC,S,CAGjBC,KAAKH,OAASA,EAAOI,KACrBD,KAAKE,MAAQL,EAAOK,MACpBF,KAAKG,OAASN,EAAOM,OAErB,GAAIN,EAAOO,QAAS,CAClBJ,KAAKK,WAAWR,EAAOO,Q,CAGzB,OAAON,QAAQC,S,CAWjB,0BAAAO,CAA2BC,GACzBP,KAAKQ,mBAAqBD,EAAMC,oBAAsB,EAGtDR,KAAKS,GAAGC,MAAMC,YAAY,sBAAuB,GAAGX,KAAKQ,sBAEzD,OAAOV,QAAQC,S,CAUjB,UAAAM,CAAWO,GACT,GAAIA,EAAU,CACZZ,KAAKS,GAAGI,KAAO,UAAUD,G,CAE3B,OAAOd,QAAQC,S,CASjB,YAAAe,GACE,IAAKd,KAAKe,aAAc,CACtBf,KAAKS,GAAGO,gBAAgB,O,KACnB,CACLhB,KAAKS,GAAGI,KAAOb,KAAKe,Y,CAEtB,OAAOjB,QAAQC,S,CAGjB,iBAAAkB,GACEjB,KAAKe,aAAef,KAAKS,GAAGS,aAAa,O,CAG3C,WAAAC,GACE,GAAInB,KAAKoB,YAAa,CACpBpB,KAAKqB,uBAAuBC,M,EAIhC,aAAAC,CAAcC,GAGZ,GAAIA,EAAEC,SAAWzB,KAAKS,GAAI,CACxB,M,CAGF,OAAQe,EAAEE,KACR,IAAK,QACH1B,KAAKmB,cACL,MACF,IAAK,IACHnB,KAAKmB,cACLK,EAAEG,iBACF,M,CAMN,MAAAC,GACE,MAAMC,SAAEA,EAAQT,YAAEA,EAAWlB,MAAEA,EAAKC,OAAEA,GAAWH,KAEjD,OACE8B,EAACC,EAAI,CAAAL,IAAA,2CACHM,MAAM,oBACNC,KAAK,OACL/B,MAAOA,IAAU,SAAWA,EAC5BC,OAAQA,EACR+B,SAAUd,IAAgBS,EAAW,IAAM,KAC3CM,QAAS,IAAMnC,KAAKmB,cACpBiB,UAAYZ,GAAMxB,KAAKuB,cAAcC,IAErCM,EAAA,QAAAJ,IAAA,2CAAMzB,KAAK,yBACX6B,EAAA,QAAAJ,IAAA,2CAAMzB,KAAK,sBACX6B,EAAA,QAAAJ,IAAA,6CACAI,EAAA,QAAAJ,IAAA,2CAAMzB,KAAK,uB"}