import{r as a,c as t,h as i,H as o,g as e}from"./p-c9795ae2.js";import{c as s}from"./p-52c3ceb3.js";import{c as r}from"./p-850c2440.js";import{g as d}from"./p-a7d431c5.js";const n=':host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}@keyframes market-popup{from{opacity:0%;transform:scale(0.9, 0.9)}to{opacity:100%;transform:scale(1, 1)}}@keyframes market-popdown{from{opacity:100%;transform:scale(1, 1)}to{opacity:0%;transform:scale(0.9, 0.9)}}@keyframes market-slideup{from{opacity:0%;transform:translateY(80vh)}to{opacity:100%;transform:translateY(0)}}@keyframes market-slidedown{from{opacity:100%;transform:translateY(0)}to{opacity:0%;transform:translateY(80vh)}}@keyframes market-slide-left-enter{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes market-slide-left-exit{from{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes market-fade-in{from{opacity:0%}to{opacity:100%}}@keyframes market-fade-out{from{opacity:100%}to{opacity:0%}}@keyframes market-input-autofill-start{from{}to{}}@keyframes market-input-autofill-cancel{from{}to{}}@keyframes market-input-search-compact-enter{from{}to{}}@keyframes market-input-search-compact-exit{from{}to{}}:host{display:flex;flex-direction:column;justify-content:stretch;overflow:hidden}:host ::slotted(main),:host ::slotted(.main){flex:0 1 100%;overflow-y:auto;height:100%}:host ::slotted(.market-header){margin-bottom:var(--core-metrics-spacing-300);padding-top:0}:host ::slotted(.market-footer){padding-bottom:0}:host{--modal-dialog-width:var(--modal-dialog-maximum-width-size);--modal-dialog-horizontal-padding-size:var(--modal-dialog-compact-horizontal-size-class-horizontal-padding);--modal-dialog-vertical-padding-size:var(--modal-dialog-compact-vertical-size-class-vertical-padding);width:var(--modal-dialog-width);max-width:var(--modal-dialog-width);padding:var(--modal-dialog-vertical-padding-size)\n    var(--modal-dialog-horizontal-padding-size);border-radius:var(--modal-dialog-border-radius);background-color:var(--modal-dialog-background-color);animation:var(--modal-dialog-animation-enter-transition-duration)\n    market-popup\n    forwards\n    var(--modal-dialog-animation-enter-transition-easing)}:host([hidden]){animation-name:market-popdown;animation-duration:var(--modal-dialog-animation-exit-transition-duration);animation-timing-function:var(--modal-dialog-animation-exit-transition-easing)}:host([value="loadingMode"]){display:flex;flex-direction:column}::slotted(.market-footer){padding-top:var(--modal-dialog-regular-vertical-size-class-vertical-padding)}.market-activity-indicator{align-self:flex-start;margin-bottom:var(--core-metrics-spacing-200)}@media only screen and (min-width: 600px){:host{--modal-dialog-horizontal-padding-size:var(--modal-dialog-regular-horizontal-size-class-horizontal-padding);--modal-dialog-vertical-padding-size:var(--modal-dialog-regular-vertical-size-class-vertical-padding)}}@media only screen and (min-width: 1200px){:host{--modal-dialog-horizontal-padding-size:var(--modal-dialog-wide-horizontal-size-class-horizontal-padding);--modal-dialog-vertical-padding-size:var(--modal-dialog-wide-vertical-size-class-vertical-padding, 32px)}}';const l=n;const m=class{constructor(i){a(this,i);this.marketDialogLoaded=t(this,"marketDialogLoaded",7);this.marketDialogDismissed=t(this,"marketDialogDismissed",7);this.marketDialogDidDismiss=t(this,"marketDialogDidDismiss",7);this.type="dialog";this.hidden=false;this.dialogID=undefined;this.index=undefined;this.isLoading=false;this.persistent=false;this.trapFocus=false;this.animationEnterDuration=s.MODAL_DIALOG_ANIMATION_ENTER_TRANSITION_DURATION;this.animationExitDuration=s.MODAL_DIALOG_ANIMATION_EXIT_TRANSITION_DURATION}dismiss(a){if(!this.persistent){const{defaultPrevented:t}=this.marketDialogDismissed.emit({dialog:this.el,type:this.type,origin:(a===null||a===void 0?void 0:a.origin)||this.el});if(!t){this.hidden=true;setTimeout((()=>{this.marketDialogDidDismiss.emit({dialog:this.el,type:this.type,origin:this.el})}),this.animationExitDuration)}}return Promise.resolve()}onTrapFocusChanged(a,t){if(a!==t){if(a){this.activateFocusTrap()}else{this.deactivateFocusTrap()}}}activateFocusTrap(a,t){if(this.focusTrap){this.focusTrap.activate(t!==null&&t!==void 0?t:{});if(!this.trapFocus){this.trapFocus=true}}else{this.focusTrap=r({activateOptions:t,el:this.el,options:a})}return Promise.resolve()}deactivateFocusTrap(a){if(this.focusTrap){this.focusTrap.deactivate(Object.assign({returnFocus:true,checkCanReturnFocus:a=>new Promise((t=>{if(typeof(a===null||a===void 0?void 0:a.setFocus)==="function"){a.setFocus()}else{t()}}))},a));this.focusTrap=undefined}return Promise.resolve()}removeTopMarginOfFirstHeading(){const a=this.el.querySelectorAll("h1, h2, h3, h4, h5, h6");if(a.length>0){a[0].style.marginTop="0"}}handleSlotchange(){this.removeTopMarginOfFirstHeading()}connectedCallback(){this.connectedCallbackTimeout=setTimeout((()=>{this.marketDialogLoaded.emit({dialog:this.el,type:this.type});if(this.trapFocus){this.activateFocusTrap()}}),this.animationEnterDuration);this.handleSlotchange()}disconnectedCallback(){this.deactivateFocusTrap();clearTimeout(this.connectedCallbackTimeout)}render(){const a=d("market-activity-indicator");return i(o,{key:"7da7425983b6355851687256e2dc66d205f316ed",class:"market-dialog",role:"dialog"},this.isLoading&&i(a,{key:"474cdfa415c07cf3c9e0cff7a0d0584f4b837386"}),i("slot",{key:"f26ca73aa2034db72a0c075051f89c7e95dcfeea",onSlotchange:this.handleSlotchange.bind(this)}))}get el(){return e(this)}static get watchers(){return{trapFocus:["onTrapFocusChanged"]}}};m.style=l;export{m as market_dialog};
//# sourceMappingURL=p-1bf41b6d.entry.js.map