import{r as t,c as s,h as i,H as e,g as a}from"./p-c9795ae2.js";import{g as o}from"./p-a7d431c5.js";const r=':host{position:relative;display:flex}:host::after{content:"";position:absolute;bottom:0;left:0;display:block;width:100%;height:var(--tabs-list-bottom-border-size, 1px);background-color:var(--tabs-list-bottom-border-color, var(--core-divider-20-color))}:host(:not([size])),:host([size="small"]),:host([size="medium"]){gap:var(--tabs-list-medium-size-horizontal-spacing, var(--core-metrics-spacing-200))}:host([size="large"]){gap:var(--tabs-list-large-size-horizontal-spacing, var(--core-metrics-spacing-300))}';const h=r;const n=class{constructor(i){t(this,i);this.marketTabListSelectedTabChanged=s(this,"marketTabListSelectedTabChanged",7);this.size=undefined;this.selectedTab=undefined;this.defaultTab=undefined}marketTabSelectedChangedEventHandler(t){var s;const{tabId:i,value:e}=t.detail;if(!e){return}if(this.selectedTab!==i){const{defaultPrevented:t}=this.marketTabListSelectedTabChanged.emit({prevValue:this.selectedTab,value:i});if(!t){this.selectedTab=i}}(s=this.tabEls)===null||s===void 0?void 0:s.forEach((t=>{if(t.id!==i){t.deselect();t.tabIndex=-1}else{t.tabIndex=0}}))}tabWatcher(t){this.selectTab(t)}sizeWatcher(t){this.propagateSizeProp(t)}selectTab(t){var s,i;const e=((s=this.tabEls)===null||s===void 0?void 0:s.find((s=>t===s.id&&!s.disabled)))||((i=this.tabEls)===null||i===void 0?void 0:i.find((t=>!t.disabled)));e===null||e===void 0?void 0:e.select()}propagateSizeProp(t){this.tabEls.forEach((s=>{if(this.size&&s.size!==this.size){s.size=t}}))}focusOnTab(t){var s,i;(i=(s=t===null||t===void 0?void 0:t.shadowRoot)===null||s===void 0?void 0:s.querySelector("button"))===null||i===void 0?void 0:i.focus()}handleKeyDown(t){if(!this.tabEls||this.tabEls.every((t=>t.disabled))){return}if(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="Home"||t.key==="End"){t.preventDefault();const s=this.tabEls.indexOf(t.target);if(s<0){return}const i=this.tabEls.slice(0,s);const e=this.tabEls.slice(s+1);switch(t.key){case"ArrowRight":{const t=[...e,...i].find((t=>!t.disabled));this.focusOnTab(t);break}case"ArrowLeft":{const t=[...e,...i].reverse().find((t=>!t.disabled));this.focusOnTab(t);break}case"Home":{const t=this.tabEls.find((t=>!t.disabled));this.focusOnTab(t);break}case"End":{const t=this.tabEls.filter((t=>!t.disabled));this.focusOnTab(t[t.length-1]);break}}}}handleSlotChange(){this.tabEls=[...this.el.querySelectorAll(o("market-tab"))];this.propagateSizeProp(this.size)}componentWillLoad(){this.handleSlotChange();this.selectTab(this.selectedTab||this.defaultTab)}render(){return i(e,{key:"a2159152585d6f16a997a913e9044a7139f66ddb",class:"market-tab-list",onKeyDown:this.handleKeyDown.bind(this),role:"tablist"},i("slot",{key:"45fce6685de615924133dec82799db58f2f6557b",onSlotchange:()=>this.handleSlotChange()}))}get el(){return a(this)}static get watchers(){return{selectedTab:["tabWatcher"],size:["sizeWatcher"]}}};n.style=h;export{n as market_tab_list};
//# sourceMappingURL=p-495eb252.entry.js.map