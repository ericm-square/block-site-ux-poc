import{r as t,c as e,h as a,H as r,g as o}from"./p-c9795ae2.js";import{g as i}from"./p-a7d431c5.js";import{D as l}from"./p-6ae1bfc9.js";import"./p-8e7315f7.js";import"./p-e5f35127.js";const n=':host,*{box-sizing:border-box}:host{--table-cell-border-width:1px;--table-cell-border-color:var(--core-divider-20-color);--table-cell-horizontal-spacing:var(--core-metrics-spacing-150);--table-cell-heading-border-color:var(--core-divider-10-color);--table-cell-heading-font-weight:var(--core-type-medium-weight);--table-cell-state-normal-background-color:var(--core-surface-10-color);display:table-row;vertical-align:inherit;width:100%;outline:none;text-align:inherit}:host slot{vertical-align:inherit;text-align:inherit}:host([align="left"]){text-align:left}:host([align="center"]){text-align:center}:host([align="right"]){text-align:right}:host([valign="top"]){vertical-align:top}:host([valign="middle"]){vertical-align:middle}:host([valign="bottom"]){vertical-align:bottom}:host([header]) .market-table-v2-cell,:host([header]) ::slotted(.market-table-v2-cell),:host([footer]) .market-table-v2-cell,:host([footer]) ::slotted(.market-table-v2-cell){font-weight:var(--table-cell-heading-font-weight)}:host([header]) .market-drag-handle,:host([footer]) .market-drag-handle{visibility:hidden}:host([header]) .market-table-v2-cell,:host([header]) ::slotted(.market-table-v2-cell),:host([sticky="top"]) .market-table-v2-cell,:host([sticky="top"]) ::slotted(.market-table-v2-cell){border-bottom:var(--table-cell-border-width) solid var(--table-cell-heading-border-color)}:host([footer]) .market-table-v2-cell,:host([footer]) ::slotted(.market-table-v2-cell),:host([sticky="bottom"]) .market-table-v2-cell,:host([sticky="bottom"]) ::slotted(.market-table-v2-cell){border-top:var(--table-cell-border-width) solid var(--table-cell-heading-border-color);border-bottom:none}:host([sticky]){position:sticky;z-index:3;background-color:var(--table-cell-state-normal-background-color)}:host([sticky="top"]){top:0}:host([sticky="bottom"]){bottom:0}:host([interactive]){cursor:pointer}@media (hover: hover){:host([interactive]:hover){background-color:var(--table-cell-hover-state-background-color)}}:host([interactive]:focus){background-color:var(--table-cell-focus-state-background-color)}:host([active]),:host([interactive]:active){background-color:var(--table-cell-pressed-state-background-color)}:host([disabled]){color:var(--table-cell-disabled-state-text-color);pointer-events:none}.drag-handle-cell{width:var(--core-metrics-spacing-500)}@media (hover: hover){:host([drag-handle-visibility="hover"]) .market-drag-handle{opacity:0%}:host([drag-handle-visibility="hover"]:hover) .market-drag-handle{opacity:100%}}:host(.market-drag-placeholder),:host(.market-drag-placeholder[interactive]){background-color:var(--core-fill-50-color)}:host(.market-drag-placeholder) *,:host(.market-drag-placeholder) ::slotted(*),:host(.market-drag-placeholder[interactive]) *,:host(.market-drag-placeholder[interactive]) ::slotted(*){opacity:0%}:host(.market-drag-placeholder) .market-drag-handle,:host(.market-drag-placeholder[interactive]) .market-drag-handle{pointer-events:none}:host(.market-drag-clone),:host(.market-drag-clone[interactive]){--table-row-dragged-width:240px;display:flex;justify-content:space-between;align-items:center;width:var(--table-row-dragged-width);border-bottom:var(--table-cell-border-width) solid var(--table-cell-border-color);border-radius:var(--core-radius-10);background-color:var(--core-surface-20-color);cursor:grabbing;transition-timing-function:var(--core-animation-move-transition-easing);transition-duration:var(--core-animation-move-transition-moderate-speed-duration);transition-property:top, width, height}:host(.market-drag-clone)::after,:host(.market-drag-clone[interactive])::after{content:"";position:absolute;inset:0;display:block;border-radius:var(--core-radius-10);box-shadow:var(--elevation-20-shadow);opacity:var(--market-drag-clone-shadow-opacity, 0%);transition-timing-function:var(--core-animation-move-transition-easing);transition-duration:var(--core-animation-move-transition-moderate-speed-duration);transition-property:opacity}:host(.market-drag-clone) .market-drag-handle,:host(.market-drag-clone[interactive]) .market-drag-handle{cursor:grabbing}:host(.market-drag-clone) ::slotted(.market-table-v2-cell:first-child),:host(.market-drag-clone[interactive]) ::slotted(.market-table-v2-cell:first-child){overflow:hidden;width:100%;border:none;text-overflow:ellipsis;white-space:nowrap;transition-timing-function:var(--core-animation-move-transition-easing);transition-duration:var(--core-animation-move-transition-moderate-speed-duration);transition-property:padding-left}:host(.market-drag-clone) ::slotted(.market-table-v2-cell:not(:first-child)),:host(.market-drag-clone[interactive]) ::slotted(.market-table-v2-cell:not(:first-child)){display:none}:host(.market-drag-clone) .drag-handle-cell,:host(.market-drag-clone[interactive]) .drag-handle-cell{border:none}:host(.market-drag-clone[drag-handle-position="leading"]){justify-content:flex-start}:host(.market-drag-released){pointer-events:none;transition-property:opacity, width, height, transform, scale}:host(.market-drag-into-collapsed-group){opacity:0%;scale:0}';const s=n;const d=class{constructor(a){t(this,a);this.marketInternalTableV2RowSelectionChange=e(this,"marketInternalTableV2RowSelectionChange",7);this.marketTableV2RowSelectionChange=e(this,"marketTableV2RowSelectionChange",7);this.active=false;this.align=undefined;this.caret=undefined;this.disabled=false;this.dragEnabled=false;this.dragHandleVisibility=undefined;this.dragHandlePosition=undefined;this.footer=false;this.header=false;this.indent=undefined;this.interactive=false;this.selected="false";this.sticky=undefined;this.valign=undefined}onKeydown(t){const{target:e,key:a}=t;const{el:r,disabled:o,interactive:i}=this;if(o)return;if(!i)return;if(e!==r)return;if(a==="Enter"||a===" "){t.preventDefault();r.click()}}async onMarketInternalTableV2CellSelectionChange(t){const{detail:e,target:a}=t;const{current:r}=e;const{firstCell:o}=this;if(a!==o)return;t.stopPropagation();await this.setSelected(r)}async onDragStart(t){const{el:e,dragHandlePosition:a}=this;if(e.slot==="parent")return;t.stopPropagation();const r=t.detail;const o=a==="leading"?"left":"right";const i=new l(e,{anchor:o});this.drag=i;await i.start(r)}onDragMove(t){if(this.el.slot==="parent")return;t.stopPropagation();const e=t.detail;this.drag.move(e)}async onDragEnd(t){if(this.el.slot==="parent")return;t.stopPropagation();const e=t.detail;await this.drag.end(e);this.drag.destroy()}watchCaret(){const{firstCell:t,caret:e}=this;if(t)t.caret=e}watchIndent(){const{firstCell:t,indent:e}=this;if(t)t.indent=e}async setSelected(t,{silent:e=false}={}){const{firstCell:a,selected:r,marketTableV2RowSelectionChange:o,marketInternalTableV2RowSelectionChange:i}=this;if(r===t)return Promise.resolve();const{defaultPrevented:l}=o.emit({current:t,previous:r});if(l){await(a===null||a===void 0?void 0:a.setSelected(r,{silent:true}));return Promise.resolve()}if(!e){i.emit({current:t,previous:r})}this.selected=t;await(a===null||a===void 0?void 0:a.setSelected(t,{silent:e}));return Promise.resolve()}getTabIndex(){const{disabled:t,interactive:e}=this;return e&&!t?"0":null}async initFirstCell(){const{el:t,selected:e}=this;const a=i("market-table-v2-cell");const r=t.querySelector(`${a}`);if(r){this.firstCell=r;if(e)await(r===null||r===void 0?void 0:r.setSelected(e))}this.watchCaret();this.watchIndent()}async connectedCallBack(){await this.initFirstCell()}renderDragHandleCell(){const t=i("market-drag-handle");const e=i("market-table-v2-cell");return a(e,{class:"drag-handle-cell"},a(t,{part:"drag-handle"}))}render(){const{dragEnabled:t,dragHandlePosition:e}=this;return a(r,{key:"6adae61ab707d2a6d4a73dd244855cf75d91ddb9",role:"row",class:"market-table-v2-row",tabindex:this.getTabIndex(),onMarketDragHandleDragStart:t=>this.onDragStart(t),onMarketDragHandleDragMove:t=>this.onDragMove(t),onMarketDragHandleDragEnd:t=>this.onDragEnd(t)},t&&e==="leading"&&this.renderDragHandleCell(),a("slot",{key:"734bcabee33118c8368a332e8de4287099f1d1fa",onSlotchange:()=>this.initFirstCell()}),t&&e!=="leading"&&this.renderDragHandleCell())}get el(){return o(this)}static get watchers(){return{caret:["watchCaret"],indent:["watchIndent"]}}};d.style=s;export{d as market_table_v2_row};
//# sourceMappingURL=p-303e80f0.entry.js.map