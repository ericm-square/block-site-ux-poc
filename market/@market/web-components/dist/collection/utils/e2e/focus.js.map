{"version":3,"file":"focus.js","sourceRoot":"","sources":["../../../../src/utils/e2e/focus.ts"],"names":[],"mappings":"AAGA,SAAS,QAAQ,CAAC,IAAsB;IACtC,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,OAAO,IAAI,CAAC;IACd,CAAC;IACD,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC;QACxC,MAAM,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,SAAS,EAAE,CAAC;YACd,OAAO,SAAS,CAAC;QACnB,CAAC;IACH,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;;;;;;GAOG;AACH,MAAM,CAAC,KAAK,UAAU,eAAe,CAAC,IAAa;IACjD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;IACrD,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC;AAC5B,CAAC","sourcesContent":["import { E2EPage } from '@stencil/core/testing';\nimport { SerializedAXNode } from 'puppeteer';\n\nfunction findNode(node: SerializedAXNode): SerializedAXNode {\n  if (node.focused) {\n    return node;\n  }\n  for (const child of node.children || []) {\n    const foundNode = findNode(child);\n    if (foundNode) {\n      return foundNode;\n    }\n  }\n  return null;\n}\n\n/**\n * Finds currently focused node\n *\n * Source: https://pptr.dev/api/puppeteer.accessibility.snapshot/#example-2\n *\n * @param {E2EPage} page `E2EPage` instance\n * @returns {SerializedAXNode} focused node\n */\nexport async function findFocusedNode(page: E2EPage): Promise<SerializedAXNode> {\n  const snapshot = await page.accessibility.snapshot();\n  return findNode(snapshot);\n}\n"]}