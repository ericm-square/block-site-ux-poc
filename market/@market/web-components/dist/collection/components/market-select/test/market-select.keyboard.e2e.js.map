{"version":3,"file":"market-select.keyboard.e2e.js","sourceRoot":"","sources":["../../../../../src/components/market-select/test/market-select.keyboard.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { newE2EPage, E2EPage, E2EElement, EventSpy } from '@stencil/core/testing';\n\ndescribe('market-select: keyboard interactivity', () => {\n  let page: E2EPage;\n  let el: E2EElement;\n  let popover: E2EElement;\n  let popoverSelector: string;\n  let marketSelectOpenedSpy: EventSpy;\n  let marketSelectClosedSpy: EventSpy;\n  let marketSelectValueDidChangeSpy: EventSpy;\n\n  beforeEach(async () => {\n    page = await newE2EPage();\n    await page.setContent(`\n      <form action=\"#\">\n        <market-select name=\"my-select\">\n          <label>Label</label>\n          <market-list slot=\"list\" name=\"my-list\">\n            <market-input-search slot=\"search\"></market-input-search>\n            <market-row value=\"apple\">Apple</market-row>\n            <market-row value=\"banana\" disabled>Banana</market-row>\n            <market-row value=\"peach\">Peach</market-row>\n            <market-row value=\"pear\">Pear</market-row>\n          </market-list>\n        </market-select>\n        <market-button type=\"submit\">Submit</market-button>\n      </form>\n    `);\n\n    el = await page.find('market-select');\n    popoverSelector = `#${el.getAttribute('aria-controls')}`;\n    marketSelectOpenedSpy = await el.spyOnEvent('marketSelectOpened');\n    marketSelectClosedSpy = await el.spyOnEvent('marketSelectClosed');\n    marketSelectValueDidChangeSpy = await el.spyOnEvent('marketSelectValueDidChange');\n  });\n\n  it('can be tabbed in & out of', async () => {\n    expect(el).not.toHaveAttribute('focused');\n    await page.keyboard.press('Tab');\n    await page.waitForChanges();\n    expect(el).toHaveAttribute('focused');\n    await page.keyboard.press('Tab');\n    await page.waitForChanges();\n    expect(el).not.toHaveAttribute('focused');\n  });\n\n  it('cannot be tabbed into while disabled', async () => {\n    el.setProperty('disabled', true);\n    await page.waitForChanges();\n    await page.keyboard.press('Tab');\n    await page.waitForChanges();\n    expect(el).not.toHaveAttribute('focused');\n  });\n\n  describe('when the select has focus', () => {\n    beforeEach(async () => {\n      await page.keyboard.press('Tab');\n      await page.waitForChanges();\n    });\n\n    it('opens with the spacebar', async () => {\n      await page.keyboard.press(' ');\n      await page.waitForChanges();\n      popover = await page.find(popoverSelector);\n\n      expect(el.getAttribute('aria-expanded')).toBe('true');\n      expect(marketSelectOpenedSpy).toHaveReceivedEventTimes(1);\n      expect(await popover.isVisible()).toBe(true);\n      expect(el).toHaveAttribute('focused');\n    });\n\n    it('opens with the down arrow', async () => {\n      await page.keyboard.press('ArrowDown');\n      await page.waitForChanges();\n      popover = await page.find(popoverSelector);\n\n      expect(el.getAttribute('aria-expanded')).toBe('true');\n      expect(marketSelectOpenedSpy).toHaveReceivedEventTimes(1);\n      expect(await popover.isVisible()).toBe(true);\n      expect(el).toHaveAttribute('focused');\n    });\n\n    it('opens with the up arrow', async () => {\n      await page.keyboard.press('ArrowUp');\n      await page.waitForChanges();\n      popover = await page.find(popoverSelector);\n\n      expect(el.getAttribute('aria-expanded')).toBe('true');\n      expect(marketSelectOpenedSpy).toHaveReceivedEventTimes(1);\n      expect(await popover.isVisible()).toBe(true);\n      expect(el).toHaveAttribute('focused');\n    });\n\n    it('submits the form with enter', async () => {\n      const form = await page.find('form');\n      const formSubmitSpy = await form.spyOnEvent('submit');\n      await page.keyboard.press('Enter');\n      await page.waitForChanges();\n      expect(formSubmitSpy).toHaveReceivedEventTimes(1);\n    });\n\n    describe('and the select is open', () => {\n      beforeEach(async () => {\n        await page.keyboard.press(' ');\n        await page.waitForChanges();\n      });\n\n      it('closes with the escape key', async () => {\n        await page.keyboard.press('Escape');\n        await page.waitForChanges();\n        popover = await page.find(popoverSelector);\n\n        expect(el.getAttribute('aria-expanded')).toBe('false');\n        expect(marketSelectClosedSpy).toHaveReceivedEventTimes(1);\n        expect(popover).toBeNull();\n        expect(el).toHaveAttribute('focused');\n      });\n\n      it('closes with enter', async () => {\n        await page.keyboard.press('Enter');\n        await page.waitForChanges();\n        popover = await page.find(popoverSelector);\n\n        expect(el.getAttribute('aria-expanded')).toBe('false');\n        expect(marketSelectClosedSpy).toHaveReceivedEventTimes(1);\n        expect(popover).toBeNull();\n        expect(el).toHaveAttribute('focused');\n      });\n\n      it('suppresses the tab key (does not close or lose focus)', async () => {\n        await page.keyboard.press('Tab');\n        await page.waitForChanges();\n        popover = await page.find(popoverSelector);\n\n        expect(el.getAttribute('aria-expanded')).toBe('true');\n        expect(marketSelectClosedSpy).not.toHaveReceivedEvent();\n        expect(await popover.isVisible()).toBe(true);\n        expect(el).toHaveAttribute('focused');\n      });\n\n      it('navigates the row options with up and down arrows', async () => {\n        popover = await page.find(popoverSelector);\n        const rows = await popover.findAll('market-row');\n\n        // focus 1st row\n        await page.keyboard.press('ArrowDown');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[0]);\n\n        // focus 3rd row (skips 2nd disabled row)\n        await page.keyboard.press('ArrowDown');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[2]);\n\n        // focus 4th row\n        await page.keyboard.press('ArrowDown');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[3]);\n\n        // at the end of the list, so focus stays on the last row\n        await page.keyboard.press('ArrowDown');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[3]);\n\n        // focus 3rd row\n        await page.keyboard.press('ArrowUp');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[2]);\n\n        // focus 1st row (skips 2nd disabled row)\n        await page.keyboard.press('ArrowUp');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[0]);\n\n        // at the beginning of the list, so focus stays on the 1st row\n        await page.keyboard.press('ArrowUp');\n        await page.waitForChanges();\n        expect(await page.find('.pseudo-focus')).toEqual(rows[0]);\n      });\n\n      describe('and a list option has focus', () => {\n        beforeEach(async () => {\n          await page.keyboard.press('ArrowDown');\n          await page.waitForChanges();\n        });\n\n        it('closes with the escape key', async () => {\n          await page.keyboard.press('Escape');\n          await page.waitForChanges();\n          popover = await page.find(popoverSelector);\n\n          expect(el.getAttribute('aria-expanded')).toBe('false');\n          expect(marketSelectClosedSpy).toHaveReceivedEventTimes(1);\n          expect(popover).toBeNull();\n          expect(el).toHaveAttribute('focused');\n        });\n\n        describe('and the spacebar is pressed', () => {\n          beforeEach(async () => {\n            await page.keyboard.press(' ');\n            await page.waitForChanges();\n          });\n\n          it('updates the value property & attribute', async () => {\n            expect(el.getAttribute('value')).toEqual('apple');\n            expect(await el.getProperty('value')).toEqual('apple');\n          });\n\n          it('emits the change event', () => {\n            expect(marketSelectValueDidChangeSpy).toHaveReceivedEventTimes(1);\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.value).toEqual('apple');\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.newSelectedOption).toBeTruthy();\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.newDeselectedOption).toBeFalsy();\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.currentSelectedOptions.length).toEqual(1);\n          });\n\n          it('updates the displayed selection', async () => {\n            const displayedSelection = await el.find('market-row[slot=\"displayed-selection\"]');\n            expect(displayedSelection).toEqualText('Apple');\n            expect(displayedSelection.getAttribute('value')).toEqual('apple');\n          });\n        });\n\n        describe('and enter is pressed', () => {\n          beforeEach(async () => {\n            await page.keyboard.press('Enter');\n            await page.waitForChanges();\n          });\n\n          it('updates the value property & attribute', async () => {\n            expect(el.getAttribute('value')).toEqual('apple');\n            expect(await el.getProperty('value')).toEqual('apple');\n          });\n\n          it('emits the change event', () => {\n            expect(marketSelectValueDidChangeSpy).toHaveReceivedEventTimes(1);\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.value).toEqual('apple');\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.newSelectedOption).toBeTruthy();\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.newDeselectedOption).toBeFalsy();\n            expect(marketSelectValueDidChangeSpy.lastEvent.detail.currentSelectedOptions.length).toEqual(1);\n          });\n\n          it('updates the displayed selection', async () => {\n            const displayedSelection = await el.find('market-row[slot=\"displayed-selection\"]');\n            expect(displayedSelection).toEqualText('Apple');\n            expect(displayedSelection.getAttribute('value')).toEqual('apple');\n          });\n\n          it('receives focus', () => {\n            expect(el).toHaveAttribute('focused');\n          });\n\n          it('sets aria-expanded to false', () => {\n            expect(el.getAttribute('aria-expanded')).toBe('false');\n          });\n\n          it('removes the popover', async () => {\n            popover = await page.find(popoverSelector);\n            expect(popover).toBeNull();\n          });\n\n          it('emits the close event', () => {\n            expect(marketSelectClosedSpy).toHaveReceivedEventTimes(1);\n          });\n        });\n      });\n\n      describe('and the slotted search input has focus', () => {\n        let searchInput: E2EElement;\n        let innerInput: E2EElement;\n\n        beforeEach(async () => {\n          searchInput = await page.find('market-input-search');\n          innerInput = await searchInput.find('pierce/input');\n          await innerInput.focus();\n          await page.waitForChanges();\n        });\n\n        it('typing filters the list to rows that match the search term', async () => {\n          popover = await page.find(popoverSelector);\n          const rows = await popover.findAll('market-row');\n          await page.keyboard.type('p'); // search string 'p'\n          await page.waitForChanges();\n\n          let visibleRows = rows.filter((row) => !row.className.includes('hidden'));\n\n          expect(searchInput.getAttribute('value')).toEqual('p');\n          expect(visibleRows.length).toBe(3); // 'apple', 'peach', 'pear'\n\n          await page.keyboard.type('p'); // search string 'pp'\n          await page.waitForChanges();\n\n          visibleRows = rows.filter((row) => !row.className.includes('hidden'));\n\n          expect(searchInput.getAttribute('value')).toEqual('pp');\n          expect(visibleRows.length).toBe(1); // 'apple'\n        });\n\n        it('pressing the spacebar does not close the select popover', async () => {\n          expect(el.getAttribute('aria-expanded')).toBe('true');\n          expect(popover).not.toBeNull();\n\n          await page.keyboard.press(' ');\n          await page.waitForChanges();\n\n          expect(el.getAttribute('aria-expanded')).toBe('true');\n          expect(popover).not.toBeNull();\n          expect(marketSelectClosedSpy).toHaveReceivedEventTimes(0);\n        });\n      });\n    });\n  });\n});\n"]}