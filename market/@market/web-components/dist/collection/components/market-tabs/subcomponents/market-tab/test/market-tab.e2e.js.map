{"version":3,"file":"market-tab.e2e.js","sourceRoot":"","sources":["../../../../../../../src/components/market-tabs/subcomponents/market-tab/test/market-tab.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { E2EElement, E2EPage, EventSpy, newE2EPage } from '@stencil/core/testing';\n\ndescribe('market-tab', () => {\n  let page: E2EPage;\n  let el: E2EElement;\n  let buttonEl: E2EElement;\n  let eventSpy: EventSpy;\n\n  beforeEach(async () => {\n    page = await newE2EPage();\n    await page.setContent(`\n      <market-tab id=\"tab-1\" aria-controls=\"panel-1\">\n        Tab 1\n      </market-tab>\n    `);\n    el = await page.find('market-tab');\n    buttonEl = await el.find('pierce/button');\n    eventSpy = await page.spyOnEvent('marketTabSelectedChanged');\n  });\n\n  it('renders', () => {\n    expect(el).toHaveAttribute('hydrated');\n    expect(el).not.toHaveAttribute('disabled');\n    expect(el).toHaveClass('market-tab');\n    expect(el).toEqualAttribute('size', 'medium');\n    expect(el).toEqualAttribute('aria-selected', 'false');\n    expect(el).toEqualAttribute('role', 'tab');\n    expect(el).toEqualAttribute('tabindex', '0');\n    expect(el.textContent.trim()).toStrictEqual('Tab 1');\n\n    expect(buttonEl).not.toHaveAttribute('disabled');\n    expect(buttonEl).toEqualAttribute('part', 'button');\n    expect(buttonEl).toEqualAttribute('tabindex', '-1');\n  });\n\n  it('can be disabled', async () => {\n    el.setProperty('disabled', true);\n    await page.waitForChanges();\n    expect(buttonEl).toHaveAttribute('disabled');\n  });\n\n  it('deselects tab when disabled', async () => {\n    // setup: make sure it gets selected first\n    el.setProperty('selected', true);\n    await page.waitForChanges();\n    expect(el).toEqualAttribute('aria-selected', 'true');\n\n    el.setProperty('disabled', true);\n    await page.waitForChanges();\n    expect(buttonEl).toHaveAttribute('disabled');\n    expect(el).toEqualAttribute('aria-selected', 'false');\n  });\n\n  describe('selection', () => {\n    it('click', async () => {\n      await el.click();\n      await page.waitForChanges();\n      expect(el).toEqualAttribute('aria-selected', 'true');\n    });\n\n    it('Enter keypress', async () => {\n      await el.focus();\n      await page.keyboard.press('Enter');\n      await page.waitForChanges();\n      expect(el).toEqualAttribute('aria-selected', 'true');\n    });\n\n    it('Space keypress', async () => {\n      await el.focus();\n      await page.keyboard.press(' ');\n      await page.waitForChanges();\n      expect(el).toEqualAttribute('aria-selected', 'true');\n    });\n\n    it('`select()` call', async () => {\n      await el.callMethod('select');\n      await page.waitForChanges();\n      expect(el).toEqualAttribute('aria-selected', 'true');\n    });\n  });\n\n  describe('deselection', () => {\n    it('`deselect()` call', async () => {\n      await el.callMethod('select');\n      await page.waitForChanges();\n      await el.callMethod('deselect');\n      await page.waitForChanges();\n      expect(el).toEqualAttribute('aria-selected', 'false');\n    });\n  });\n\n  describe('marketTabSelectedChanged event', () => {\n    it('click', async () => {\n      await el.click();\n      expect(eventSpy).toHaveReceivedEventTimes(1);\n      expect(eventSpy).toHaveReceivedEventDetail({\n        panelId: 'panel-1',\n        prevValue: false,\n        tabId: 'tab-1',\n        value: true,\n      });\n    });\n\n    it('Enter keypress', async () => {\n      await el.focus();\n      await page.keyboard.press('Enter');\n      await page.waitForChanges();\n      expect(eventSpy).toHaveReceivedEventTimes(1);\n      expect(eventSpy).toHaveReceivedEventDetail({\n        panelId: 'panel-1',\n        prevValue: false,\n        tabId: 'tab-1',\n        value: true,\n      });\n    });\n\n    it('Space keypress', async () => {\n      await el.focus();\n      await page.keyboard.press(' ');\n      await page.waitForChanges();\n      expect(eventSpy).toHaveReceivedEventTimes(1);\n      expect(eventSpy).toHaveReceivedEventDetail({\n        panelId: 'panel-1',\n        prevValue: false,\n        tabId: 'tab-1',\n        value: true,\n      });\n    });\n\n    it('`select()` call', async () => {\n      await el.callMethod('select');\n      expect(eventSpy).toHaveReceivedEventTimes(1);\n      expect(eventSpy).toHaveReceivedEventDetail({\n        panelId: 'panel-1',\n        prevValue: false,\n        tabId: 'tab-1',\n        value: true,\n      });\n    });\n\n    it('`deselect()` call', async () => {\n      // setup: select first\n      await el.click();\n      await page.waitForChanges();\n\n      await el.callMethod('deselect');\n      await page.waitForChanges();\n      expect(eventSpy).toHaveReceivedEventDetail({\n        panelId: 'panel-1',\n        prevValue: true,\n        tabId: 'tab-1',\n        value: false,\n      });\n    });\n\n    describe('does not fire when disabled', () => {\n      beforeEach(async () => {\n        el.setProperty('disabled', true);\n        await page.waitForChanges();\n      });\n\n      it('click', async () => {\n        eventSpy = await page.spyOnEvent('marketTabSelectedChanged');\n        await el.click();\n        expect(eventSpy).toHaveReceivedEventTimes(0);\n      });\n\n      it('`select()` call', async () => {\n        eventSpy = await page.spyOnEvent('marketTabSelectedChanged');\n        await el.callMethod('select');\n        expect(eventSpy).toHaveReceivedEventTimes(0);\n      });\n\n      it('`selected` is set to \"true\"', async () => {\n        eventSpy = await page.spyOnEvent('marketTabSelectedChanged');\n        el.setProperty('selected', 'true');\n        await page.waitForChanges();\n        expect(eventSpy).toHaveReceivedEventTimes(0);\n      });\n    });\n  });\n});\n"]}