{"version":3,"file":"market-banner.js","sourceRoot":"","sources":["../../../../src/components/market-banner/market-banner.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, State, h, Event, EventEmitter, Element, Prop } from '@stencil/core';\nimport { v4 as uuid } from 'uuid';\n\nimport { classNames } from '../../utils/classnames';\nimport { getNamespacedTagFor } from '../../utils/namespace';\n\n/**\n * @slot - The text for the banner\n * @slot title - Optional title text for the banner\n * @slot action - for `<a href>` or `<button>` (not a `<market-button>`)\n * @slot icon - for use with a custom icon\n */\n@Component({\n  tag: 'market-banner',\n  styleUrl: 'market-banner.css',\n  shadow: true,\n})\nexport class MarketBanner {\n  @Element() el: HTMLMarketBannerElement;\n\n  /**\n   * banner variant that corresponds to the type of info it is conveying\n   */\n  @Prop({ reflect: true }) readonly variant: 'info' | 'success' | 'warning' | 'critical' | 'insight' = 'info';\n\n  /**\n   * whether to show the dismiss \"x\" or not\n   */\n  @Prop({ reflect: true }) readonly dismissable: boolean = false;\n\n  /**\n   * Optional property to pass a string to the dismiss \"x\"\n   * that will function as its aria-label. Defaults to \"Dismiss\".\n   */\n  @Prop({ reflect: true }) readonly dismissButtonAriaLabel: string = 'Dismiss';\n\n  /**\n   * Title for the icon image, used as the accessible name for the icon.\n   * If a custom icon is provided, this prop is ignored.\n   */\n  @Prop() readonly iconImageTitle: string = '';\n\n  /**\n   * Whether or not `[slot=\"title\"]` is provided\n   */\n  @State() hasTitle: boolean = false;\n\n  /**\n   * Whether or not `[slot=\"actions\"]` is provided\n   */\n  @State() hasAction: boolean = false;\n\n  /**\n   * Emitted when the banner's dismiss button is clicked.\n   */\n  @Event() marketBannerDismissed: EventEmitter;\n\n  iconImageTitleId = uuid();\n\n  renderIcon() {\n    if (this.variant === 'success') {\n      return (\n        <svg\n          role=\"img\"\n          aria-labelledby={this.iconImageTitleId}\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <title id={this.iconImageTitleId}>{this.iconImageTitle || 'Success'}</title>\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M3 12C3 7.03 7.03 3 12 3C16.97 3 21 7.03 21 12C21 16.97 16.97 21 12 21C7.03 21 3 16.97 3 12ZM5 12C5 15.86 8.14 19 12 19C15.86 19 19 15.86 19 12C19 8.14 15.86 5 12 5C8.14 5 5 8.14 5 12ZM8.71005 10.8L11 13.09L15.3101 8.80005L16.72 10.21L11.72 15.21C11.52 15.4 11.27 15.5 11.01 15.5C10.75 15.5 10.5 15.41 10.3 15.21L7.30005 12.21L8.71005 10.8Z\"\n          />\n        </svg>\n      );\n    } else if (this.variant === 'info') {\n      return (\n        <svg\n          role=\"img\"\n          aria-labelledby={this.iconImageTitleId}\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <title id={this.iconImageTitleId}>{this.iconImageTitle || 'Info'}</title>\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M12 3C7.04 3 3 7.04 3 12C3 16.96 7.04 21 12 21C16.96 21 21 16.96 21 12C21 7.04 16.96 3 12 3ZM12 19C8.14 19 5 15.86 5 12C5 8.14 8.14 5 12 5C15.86 5 19 8.14 19 12C19 15.86 15.86 19 12 19ZM11 10.5V17H13V10.5H11ZM13.25 8.25C13.25 8.94036 12.6904 9.5 12 9.5C11.3096 9.5 10.75 8.94036 10.75 8.25C10.75 7.55964 11.3096 7 12 7C12.6904 7 13.25 7.55964 13.25 8.25Z\"\n          />\n        </svg>\n      );\n    } else if (this.variant === 'insight') {\n      return (\n        <svg\n          role=\"img\"\n          aria-labelledby={this.iconImageTitleId}\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <title id={this.iconImageTitleId}>{this.iconImageTitle || 'Insight'}</title>\n          <path d=\"M11 23.1701V15.0001H3.07996L13 0.830078V9.00008H20.92L11 23.1701ZM6.91996 13.0001H13V16.8301L17.08 11.0001H11V7.17008L6.91996 13.0001Z\" />\n        </svg>\n      );\n    } else if (this.variant === 'warning') {\n      return (\n        <svg\n          role=\"img\"\n          aria-labelledby={this.iconImageTitleId}\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <title id={this.iconImageTitleId}>{this.iconImageTitle || 'Warning'}</title>\n          <path d=\"M11 9.00005H13V14.5H11V9.00005Z\" />\n          <path d=\"M12 18C12.6904 18 13.25 17.4404 13.25 16.75C13.25 16.0596 12.6904 15.5 12 15.5C11.3096 15.5 10.75 16.0596 10.75 16.75C10.75 17.4404 11.3096 18 12 18Z\" />\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M12.866 2.17944C12.6874 1.87004 12.3573 1.67944 12 1.67944C11.6427 1.67944 11.3126 1.87004 11.134 2.17944L1.13397 19.5C0.955342 19.8094 0.955342 20.1905 1.13397 20.5C1.31261 20.8094 1.64273 21 2 21H22C22.3573 21 22.6874 20.8094 22.866 20.5C23.0447 20.1905 23.0447 19.8094 22.866 19.5L12.866 2.17944ZM12 4.67944L20.268 19H3.73205L12 4.67944Z\"\n          />\n        </svg>\n      );\n    } else {\n      return (\n        <svg\n          role=\"img\"\n          aria-labelledby={this.iconImageTitleId}\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <title id={this.iconImageTitleId}>{this.iconImageTitle || 'Critical'}</title>\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M12 21C16.96 21 21 16.96 21 12C21 7.04 16.96 3 12 3C7.04 3 3 7.04 3 12C3 16.96 7.04 21 12 21ZM12 5C15.86 5 19 8.14 19 12C19 15.86 15.86 19 12 19C8.14 19 5 15.86 5 12C5 8.14 8.14 5 12 5ZM12 17C12.6904 17 13.25 16.4404 13.25 15.75C13.25 15.0596 12.6904 14.5 12 14.5C11.3096 14.5 10.75 15.0596 10.75 15.75C10.75 16.4404 11.3096 17 12 17ZM11 7H13V13.5H11V7Z\"\n          />\n        </svg>\n      );\n    }\n  }\n\n  handleTitleSlotChange() {\n    this.hasTitle = Boolean(this.el.querySelector('[slot=\"title\"]'));\n  }\n\n  handleActionSlotChange() {\n    this.hasAction = Boolean(this.el.querySelector('[slot=\"action\"]'));\n  }\n\n  componentWillLoad() {\n    this.handleTitleSlotChange();\n    this.handleActionSlotChange();\n  }\n\n  dismiss() {\n    const { defaultPrevented } = this.marketBannerDismissed.emit();\n    if (defaultPrevented) {\n      return;\n    }\n\n    this.el.remove();\n  }\n\n  render() {\n    const MarketAccessoryTag = getNamespacedTagFor('market-accessory');\n    return (\n      <Host class=\"market-banner\" role=\"region\" aria-label=\"Announcement\">\n        {/* this span is the flexbox container to vertically align the icon */}\n        <span class=\"icon-container\">\n          <slot name=\"icon\">\n            <MarketAccessoryTag>{this.renderIcon()}</MarketAccessoryTag>\n          </slot>\n        </span>\n        <div class={classNames('main', { 'has-title': this.hasTitle })}>\n          <section>\n            <header class=\"title\">\n              <slot name=\"title\" onSlotchange={() => this.handleTitleSlotChange()}></slot>\n            </header>\n            <slot></slot>\n          </section>\n          <nav class={classNames('actions', { hidden: !this.hasAction })}>\n            <slot name=\"action\" onSlotchange={() => this.handleActionSlotChange()}></slot>\n          </nav>\n        </div>\n        {this.dismissable && (\n          <nav class=\"dismiss-container\">\n            <button type=\"button\" aria-label={this.dismissButtonAriaLabel} onClick={() => this.dismiss()}>\n              <svg\n                role=\"presentation\"\n                aria-hidden=\"true\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path d=\"M6.71004 18.71L12 13.41L17.29 18.71L18.71 17.29L13.41 12L18.71 6.71004L17.29 5.29004L12 10.59L6.71004 5.29004L5.29004 6.71004L10.59 12L5.29004 17.29L6.71004 18.71Z\" />\n              </svg>\n            </button>\n          </nav>\n        )}\n      </Host>\n    );\n  }\n}\n"]}