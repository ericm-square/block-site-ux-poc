{"version":3,"file":"market-table-cell.js","sourceRoot":"","sources":["../../../../src/components/market-table-cell/market-table-cell.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, Prop, Element, Event, EventEmitter, State, Method, h } from '@stencil/core';\n\n/**\n * @slot - Default slot for content\n * @slot leading-accessory - Intended for use with a leading accessory.\n * @slot trailing-accessory - Intended for use with a trailing accessory.\n */\n@Component({\n  tag: 'market-table-cell',\n  styleUrl: 'market-table-cell.css',\n  shadow: true,\n})\nexport class MarketTableCell {\n  @Element() el: HTMLMarketTableCellElement;\n\n  /**\n   * Content/text alignment for this cell, default is set based on the alignment of the\n   * market-table-column with matching column/name prop\n   *\n   * **NOTE:** this is set automatically when used in a `market-table` with a corresponding\n   * `market-table-column`.\n   */\n  @Prop({ mutable: true, reflect: false }) align: false | 'left' | 'right' = false;\n\n  /**\n   * A key that matches the 'name' prop on the appropriate market-table-column\n   *\n   * **NOTE:** this is set automatically when used in a `market-table` with a corresponding\n   * `market-table-column`.\n   */\n  @Prop({ mutable: true, reflect: true }) column: string;\n\n  /**\n   * Determines how much to indent the cell by.\n   * This will be multiplied by the default indentation size (40px) for uniform indentation levels\n   *\n   * **NOTE:** this is inherited automatically if set on the parent `market-table-row`.\n   */\n  @Prop({ mutable: true, reflect: false }) leadingIndentation: number = 0;\n\n  /**\n   * Whether the cell is currently active.\n   */\n  @Prop({ reflect: true }) readonly active: boolean = false;\n\n  /**\n   * Whether or not the cell is interactive. Results in cell receiving\n   * hover and active styling when hovered/clicked.\n   */\n  @Prop({ reflect: true }) readonly interactive: boolean = false;\n\n  /**\n   * Whether the cell is disabled.\n   */\n  @Prop({ reflect: true }) readonly disabled: boolean = false;\n\n  /**\n   * Fired whenever an interactive cell is clicked.\n   */\n  @Event({ bubbles: true, composed: true }) marketTableCellClicked: EventEmitter;\n\n  /**\n   * The slot this element was originally placed in\n   */\n  @State() originalSlot: string;\n\n  /**\n   * Whether or not the table cell is hidden.\n   *\n   * **NOTE:** this is derived from the hidden prop of the corresponding\n   * `market-table-column`, if one exists\n   */\n  @State() hidden: boolean = false;\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Forwards appropriate properties from matching header market-table-column element to this cell.\n   */\n  @Method()\n  _updateColumnRelatedProperties(column: HTMLMarketTableColumnElement) {\n    if (!column) {\n      return Promise.resolve();\n    }\n\n    this.column = column.name;\n    this.align = column.align;\n    this.hidden = column.hidden;\n\n    if (column.stickTo) {\n      this._stickSelf(column.stickTo);\n    }\n\n    return Promise.resolve();\n  }\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Sets properties specified in the row element. Leading and trailing\n   * accessories are best set on the first or last cell to not mess\n   * with the grid structure\n   * @param rowEl\n   */\n  @Method()\n  _updateFirstCellProperties(rowEl: HTMLMarketTableRowElement) {\n    this.leadingIndentation = rowEl.leadingIndentation || 0;\n\n    // Sets leading accessory level of indentation on current row\n    this.el.style.setProperty('--cell-indent-level', `${this.leadingIndentation}`);\n\n    return Promise.resolve();\n  }\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Moves this column into a slot inside the market-table-area\n   * which is fixed to the provided edge (position), allowing\n   * for fixed columns\n   */\n  @Method()\n  _stickSelf(position: 'left' | 'right') {\n    if (position) {\n      this.el.slot = `sticky-${position}`;\n    }\n    return Promise.resolve();\n  }\n\n  /**\n   * **INTERNAL [do not use directly]**\n   * Moves this column back into it's original slot from a slot\n   * within a fixed market-table-area\n   */\n  @Method()\n  _unstickSelf() {\n    if (!this.originalSlot) {\n      this.el.removeAttribute('slot');\n    } else {\n      this.el.slot = this.originalSlot;\n    }\n    return Promise.resolve();\n  }\n\n  componentWillLoad() {\n    this.originalSlot = this.el.getAttribute('slot');\n  }\n\n  handleClick() {\n    if (this.interactive) {\n      this.marketTableCellClicked.emit();\n    }\n  }\n\n  handleKeydown(e) {\n    // don't intercept keydown of descendant elements\n    // e.g. when typing into nested input fields (gross)\n    if (e.target !== this.el) {\n      return;\n    }\n\n    switch (e.key) {\n      case 'Enter':\n        this.handleClick();\n        break;\n      case ' ':\n        this.handleClick();\n        e.preventDefault(); // spacebar should not scroll page\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { disabled, interactive, align, hidden } = this;\n\n    return (\n      <Host\n        class=\"market-table-cell\"\n        role=\"cell\"\n        align={align === 'right' && align}\n        hidden={hidden}\n        tabindex={interactive && !disabled ? '0' : null}\n        onClick={() => this.handleClick()}\n        onKeydown={(e) => this.handleKeydown(e)}\n      >\n        <slot name=\"nested-row-indicator\"></slot>\n        <slot name=\"leading-accessory\"></slot>\n        <slot></slot>\n        <slot name=\"trailing-accessory\"></slot>\n      </Host>\n    );\n  }\n}\n"]}