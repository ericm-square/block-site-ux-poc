{"version":3,"file":"market-filter-group.e2e.js","sourceRoot":"","sources":["../../../../../src/components/market-filter-group/test/market-filter-group.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { newE2EPage } from '@stencil/core/testing';\n\ndescribe('market-filter-group', () => {\n  it('renders', async () => {\n    const page = await newE2EPage();\n    await page.setContent('<market-filter-group></market-filter-group>');\n\n    const element = await page.find('market-filter-group');\n    expect(element).not.toBeNull();\n    expect(element).toHaveAttribute('hydrated');\n\n    const dropdownMenuEl = await element.find('pierce/market-filter-dropdown-menu');\n    expect(dropdownMenuEl).toBeNull();\n  });\n\n  it('displays a filter', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n      <market-filter-group>\n        <market-filter name=\"color\" slot=\"filters\">\n          <label slot=\"label\">Color</label>\n        </market-filter>\n      </market-filter-group>\n    `);\n    await page.waitForChanges(); // extra wait in an attempt to avoid flakiness\n    const element = await page.find('market-filter-group');\n\n    const filterEl = await element.find('pierce/market-filter');\n    expect(await filterEl.isVisible()).toBe(true);\n    expect(filterEl).not.toHaveAttribute('disabled');\n\n    const labelEl = await element.find('pierce/label');\n    expect(await labelEl.isVisible()).toBe(true);\n    expect(labelEl.innerText).toStrictEqual('Color');\n  });\n\n  it('displays three filters', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n      <market-filter-group>\n        <market-filter name=\"color\" slot=\"filters\">\n          <label slot=\"label\">Color</label>\n        </market-filter>\n        <market-filter name=\"size\" slot=\"filters\">\n          <label slot=\"label\">Size</label>\n        </market-filter>\n        <market-filter name=\"shape\" slot=\"filters\">\n          <label slot=\"label\">Shape</label>\n        </market-filter>\n      </market-filter-group>\n    `);\n    await page.waitForChanges(); // extra wait in an attempt to avoid flakiness\n    const element = await page.find('market-filter-group');\n\n    const colorFilterEl = await element.find('market-filter[name=\"color\"]');\n    expect(await colorFilterEl.isVisible()).toBe(true);\n    expect((await colorFilterEl.find('pierce/label')).innerText).toStrictEqual('Color');\n\n    const sizeFilterEl = await element.find('market-filter[name=\"size\"]');\n    expect(await sizeFilterEl.isVisible()).toBe(true);\n    expect((await sizeFilterEl.find('pierce/label')).innerText).toStrictEqual('Size');\n\n    const shapeFilterEl = await element.find('market-filter[name=\"shape\"]');\n    expect(await shapeFilterEl.isVisible()).toBe(true);\n    expect((await shapeFilterEl.find('pierce/label')).innerText).toStrictEqual('Shape');\n\n    const dropdownMenuEl = await element.find('pierce/market-filter-dropdown-menu');\n    expect(dropdownMenuEl).toBeNull();\n  });\n\n  it('does not set search to compact mode with 3 or less filters', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n      <market-filter-group>\n        <market-input-search slot=\"search\"></market-input-search>\n        <market-filter name=\"color\" slot=\"filters\">\n          <label slot=\"label\">Color</label>\n        </market-filter>\n      </market-filter-group>\n    `);\n    const element = await page.find('market-filter-group');\n    const inputSearchEl = await element.find('pierce/market-input-search');\n    expect(inputSearchEl).not.toHaveAttribute('compact');\n  });\n\n  it('sets dropdown menu button size based on the first filter size', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n      <market-filter-group>\n        <market-filter name=\"color\" slot=\"filters\" size=\"small\"></market-filter>\n        <market-filter name=\"size\" slot=\"filters\"></market-filter>\n        <market-filter disabled name=\"start-date\" slot=\"filters\"></market-filter>\n        <market-filter disabled name=\"end-date\" slot=\"filters\"></market-filter>\n      </market-filter-group>\n    `);\n    await page.waitForChanges();\n    const element = await page.find('market-filter-group');\n    const dropdownMenuEl = await element.find('pierce/market-filter-dropdown-menu');\n    const dropdownMenuButtonEl = await dropdownMenuEl.find('pierce/market-filter-button');\n    expect(dropdownMenuButtonEl).toEqualAttribute('size', 'small');\n  });\n});\n"]}