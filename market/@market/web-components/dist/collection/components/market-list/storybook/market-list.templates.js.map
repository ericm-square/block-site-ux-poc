{"version":3,"file":"market-list.templates.js","sourceRoot":"","sources":["../../../../../src/components/market-list/storybook/market-list.templates.ts"],"names":[],"mappings":"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","sourcesContent":["import { html } from 'lit-html';\nimport { ifDefined } from 'lit-html/directives/if-defined.js';\nimport { MarketRowTemplate, TMarketRowTemplateArgs } from '../../market-row/storybook/market-row.templates';\nimport { MarketActionCardTemplate } from '../../market-action-card/storybook/market-action-card.templates';\nimport { TSlottedControlTypes } from '../../../../docs/helpers/slotted-control';\n\nexport type TMarketListTemplateArgs = Omit<Partial<HTMLMarketListElement>, 'style'> & {\n  className?: string;\n  control?: TSlottedControlTypes;\n  customEmptyState?: unknown;\n  disabledItemsIndices?: string;\n  hasSearch?: boolean;\n  hasSelectAll?: boolean;\n  hasSubtext?: boolean;\n  hasValue?: boolean;\n  inputSearchValue?: string;\n  itemCount?: number;\n  itemType?: 'market-row' | 'market-action-card';\n  rowArgMap?: {\n    [value: string]: Partial<TMarketRowTemplateArgs>;\n  };\n  searchEmptyStatePrimaryText?: string;\n  searchEmptyStateSecondaryText?: string;\n  slot?: string;\n  style?: string;\n  tooltipItemsIndices?: string;\n};\n\nexport const MarketListTemplate = ({\n  // props\n  filterStrategy,\n  hideSelectableCount,\n  interactive,\n  multiselect,\n  name,\n  reorderable,\n  reorderMode,\n  transient,\n  value,\n\n  // demo\n  className,\n  control,\n  customEmptyState,\n  disabledItemsIndices,\n  hasSearch,\n  hasSelectAll,\n  hasSubtext,\n  hasValue,\n  inputSearchValue,\n  itemCount,\n  itemType,\n  rowArgMap,\n  searchEmptyStatePrimaryText,\n  searchEmptyStateSecondaryText,\n  slot,\n  style,\n  tooltipItemsIndices,\n}: TMarketListTemplateArgs) => html`\n  <market-list\n    class=${ifDefined(className)}\n    filter-strategy=${ifDefined(filterStrategy)}\n    ?hide-selectable-count=${hideSelectableCount}\n    ?interactive=${interactive}\n    ?multiselect=${multiselect}\n    name=${ifDefined(name)}\n    reorderable=${ifDefined(reorderable)}\n    reorder-mode=${ifDefined(reorderMode)}\n    slot=${ifDefined(slot)}\n    style=${ifDefined(style)}\n    ?transient=${transient}\n    value=${ifDefined(value)}\n  >\n    ${hasSearch\n      ? html`<market-input-search value=${ifDefined(inputSearchValue)} slot=\"search\"></market-input-search>`\n      : ''}\n    ${hasSelectAll\n      ? MarketRowTemplate({\n          control,\n          label: 'Select all',\n          value: 'all',\n          slot: 'control-row',\n        })\n      : ''}\n    ${buildItems({\n      control,\n      disabledItemsIndices,\n      hasSubtext,\n      hasValue,\n      itemCount,\n      itemType,\n      rowArgMap,\n      tooltipItemsIndices,\n    })}\n    ${customEmptyState ??\n    html`\n      ${searchEmptyStatePrimaryText\n        ? html`<span slot=\"empty-state-primary-text\">${searchEmptyStatePrimaryText}</span>`\n        : ''}\n      ${searchEmptyStateSecondaryText\n        ? html`<span slot=\"empty-state-secondary-text\">${searchEmptyStateSecondaryText}</span>`\n        : ''}\n    `}\n  </market-list>\n`;\n\nfunction getFruitName(index: number, itemCount: number) {\n  const fruits = [\n    'Apple',\n    'Banana',\n    'Blueberry',\n    'Mango',\n    'Melon',\n    'Orange',\n    'Pear',\n    'Pineapple',\n    'Strawberry',\n    'Watermelon',\n  ];\n  if (itemCount > fruits.length) {\n    return fruits[index % fruits.length];\n  } else {\n    return fruits[Math.round(index * (fruits.length / itemCount))];\n  }\n}\n\nfunction getFruitSubtext(index: number, itemCount: number) {\n  const subtext = ['Red', 'Yellow', 'Blue', 'Yellow', 'Orange', 'Orange', 'Green', 'Yellow', 'Red', 'Green'];\n  if (itemCount > subtext.length) {\n    return subtext[index % subtext.length];\n  } else {\n    return subtext[Math.round(index * (subtext.length / itemCount))];\n  }\n}\n\nexport function buildItems({\n  control,\n  disabledItemsIndices,\n  hasSubtext,\n  hasValue,\n  itemCount: _itemCount,\n  itemType,\n  rowArgMap,\n  tooltipItemsIndices,\n}: Partial<TMarketListTemplateArgs>) {\n  const itemCount = _itemCount ?? Object.keys(rowArgMap ?? {}).length;\n  const tempList = Array.from({ length: itemCount }).fill(undefined);\n  return tempList.map((_, index) => {\n    const value = hasValue\n      ? rowArgMap?.[index]?.value ?? `${getFruitName(index, itemCount).toLocaleLowerCase()}-${index}`\n      : undefined;\n    const label = rowArgMap?.[index]?.label ?? getFruitName(index, itemCount);\n    const subtext = hasSubtext ? rowArgMap?.[index]?.subtext ?? getFruitSubtext(index, itemCount) : '';\n\n    const disabled = disabledItemsIndices?.split(',').includes(`${index}`);\n    const hasTooltip = tooltipItemsIndices?.split(',').includes(`${index}`);\n    const trailingAccessory = hasTooltip ? 'tooltip' : '';\n    const rowArgs = rowArgMap?.[index] as TMarketRowTemplateArgs;\n\n    if (itemType === 'market-row') {\n      return MarketRowTemplate({\n        control,\n        disabled,\n        label,\n        subtext,\n        trailingAccessory,\n        value,\n        ...rowArgs,\n      });\n    } else if (itemType === 'market-action-card') {\n      return MarketActionCardTemplate({\n        disabled,\n        value,\n        rowArgs: {\n          control,\n          label,\n          subtext,\n          trailingAccessory,\n          ...rowArgs,\n        },\n      });\n    }\n    return undefined;\n  });\n}\n"]}