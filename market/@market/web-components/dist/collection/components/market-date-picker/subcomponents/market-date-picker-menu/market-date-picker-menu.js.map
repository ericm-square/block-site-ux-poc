{"version":3,"file":"market-date-picker-menu.js","sourceRoot":"","sources":["../../../../../../src/components/market-date-picker/subcomponents/market-date-picker-menu/market-date-picker-menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, Host, h, Listen, Method, Prop } from '@stencil/core';\n\nimport { MENU_SLOT_NAMES } from '../../enums/menu';\n\nimport { getNamespacedTagFor } from '../../../../utils/namespace';\nimport { TMarketDatePickerMenuSelectionChangedEventDetail } from '../../events';\nimport { TMarketListSelectionsDidChangeEventDetail } from '../../../market-list/events';\n\n/**\n * @slot 'today' - slot for market date picker menu today option;\n * @slot 'yesterday' - slot for market date picker menu yesterday option;\n * @slot 'this-week' - slot for market date picker menu this week option;\n * @slot 'last-week' - slot for market date picker menu last week option;\n * @slot 'this-month' - slot for market date picker menu this month option;\n * @slot 'last-month' - slot for market date picker menu last month option;\n * @slot 'this-year' - slot for market date picker menu this year option;\n * @slot 'last-year' - slot for market date picker menu last year option;\n * @slot 'custom' - slot for market date picker menu custom option;\n */\n@Component({\n  tag: 'market-date-picker-menu',\n  styleUrl: 'market-date-picker-menu.css',\n  shadow: true,\n})\nexport class MarketDatePickerMenu {\n  @Element() el: HTMLMarketDatePickerMenuElement;\n\n  /**\n   * String for setting timeframe type to select which menu items to show\n   */\n  @Prop({ reflect: true }) readonly timeframe: 'past' | 'present' | 'future' = 'present';\n\n  /**\n   * A list of menu items that will be excluded from appearing on the menu list.\n   * i.e. `this-year,last-year` or `today,this-week,last-week,custom`\n   * The menu names are lowercase and hyphenated strings, found here:\n   * https://github.com/squareup/market/blob/main/web/web-components/src/components/market-date-picker/enums/menu.tsx\n   *\n   * This works in conjunction with timeframe,\n   * i.e. \"timeframe=past\", excludes dates in the future in addition to the ones here.\n   * This is written as items separated by ','.\n   */\n  @Prop() readonly excludeMenuItems: string = '';\n\n  /**\n   * Preset menu option passed from the parent. For the menu, this handles visually selecting the menu row.\n   */\n  @Prop() readonly presetMenuOption: MENU_SLOT_NAMES;\n\n  /**\n   * Fired whenever a menu item is selected\n   */\n  @Event() marketDatePickerMenuSelectionChanged: EventEmitter<TMarketDatePickerMenuSelectionChangedEventDetail>;\n\n  @Listen('marketListSelectionsDidChange')\n  handleMarketListSelectionsDidChange(e: CustomEvent<TMarketListSelectionsDidChangeEventDetail>) {\n    e.stopPropagation();\n    this.marketDatePickerMenuSelectionChanged.emit({\n      menuSelection: e.detail.newSelectionValue as `${MENU_SLOT_NAMES}`,\n    });\n  }\n\n  /**\n   * Method to visually select Custom row for use by the date picker component\n   * (internal use only)\n   */\n  @Method()\n  _selectCustomRow() {\n    const MarketRowTagName = getNamespacedTagFor('market-row');\n    this.el.shadowRoot.querySelectorAll(MarketRowTagName).forEach((row) => {\n      if (row.querySelector('slot').name === MENU_SLOT_NAMES.CUSTOM) {\n        row.click();\n      }\n    });\n    return Promise.resolve();\n  }\n\n  render() {\n    const MarketListTagName = getNamespacedTagFor('market-list');\n    const MarketRowTagName = getNamespacedTagFor('market-row');\n    const excludedItems = this.excludeMenuItems.split(',');\n\n    return (\n      <Host class=\"market-date-picker-menu\">\n        <MarketListTagName interactive>\n          {this.timeframe !== 'past' && !excludedItems.includes(MENU_SLOT_NAMES.TODAY) && (\n            <MarketRowTagName value={MENU_SLOT_NAMES.TODAY} selected={this.presetMenuOption === MENU_SLOT_NAMES.TODAY}>\n              <slot name={MENU_SLOT_NAMES.TODAY}>Today</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'future' && !excludedItems.includes(MENU_SLOT_NAMES.YESTERDAY) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.YESTERDAY}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.YESTERDAY}\n            >\n              <slot name={MENU_SLOT_NAMES.YESTERDAY}>Yesterday</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'past' && !excludedItems.includes(MENU_SLOT_NAMES.THIS_WEEK) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.THIS_WEEK}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.THIS_WEEK}\n            >\n              <slot name={MENU_SLOT_NAMES.THIS_WEEK}>This week</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'future' && !excludedItems.includes(MENU_SLOT_NAMES.LAST_WEEK) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.LAST_WEEK}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.LAST_WEEK}\n            >\n              <slot name={MENU_SLOT_NAMES.LAST_WEEK}>Last week</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'past' && !excludedItems.includes(MENU_SLOT_NAMES.THIS_MONTH) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.THIS_MONTH}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.THIS_MONTH}\n            >\n              <slot name={MENU_SLOT_NAMES.THIS_MONTH}>This month</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'future' && !excludedItems.includes(MENU_SLOT_NAMES.LAST_MONTH) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.LAST_MONTH}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.LAST_MONTH}\n            >\n              <slot name={MENU_SLOT_NAMES.LAST_MONTH}>Last month</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'past' && !excludedItems.includes(MENU_SLOT_NAMES.THIS_YEAR) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.THIS_YEAR}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.THIS_YEAR}\n            >\n              <slot name={MENU_SLOT_NAMES.THIS_YEAR}>This year</slot>\n            </MarketRowTagName>\n          )}\n          {this.timeframe !== 'future' && !excludedItems.includes(MENU_SLOT_NAMES.LAST_YEAR) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.LAST_YEAR}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.LAST_YEAR}\n            >\n              <slot name={MENU_SLOT_NAMES.LAST_YEAR}>Last year</slot>\n            </MarketRowTagName>\n          )}\n          {!excludedItems.includes(MENU_SLOT_NAMES.CUSTOM) && (\n            <MarketRowTagName\n              value={MENU_SLOT_NAMES.CUSTOM}\n              selected={this.presetMenuOption === MENU_SLOT_NAMES.CUSTOM}\n            >\n              <slot name={MENU_SLOT_NAMES.CUSTOM}>Custom</slot>\n            </MarketRowTagName>\n          )}\n        </MarketListTagName>\n      </Host>\n    );\n  }\n}\n"]}