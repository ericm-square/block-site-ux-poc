{"version":3,"file":"market-file-upload.stories.js","sourceRoot":"","sources":["../../../../../src/components/market-file-upload/storybook/market-file-upload.stories.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Meta, StoryObj } from '@storybook/web-components';\nimport { html } from 'lit';\n\nimport { waitForMarketHydration } from '../../../utils/wait-for-market-hydration';\nimport { demoFiles, MarketFileUploadTemplate, TMarketFileUploadTemplateArgs } from './market-file-upload.templates';\n\nexport default {\n  title: 'Components/File Upload/API',\n  component: 'market-file-upload',\n  tags: ['autodocs', '!dev'],\n  args: {},\n} as Meta;\n\nconst addFilesAndMetadataDecorator =\n  (files = demoFiles, metadata = []) =>\n  (Story, { canvasElement }) => {\n    (async () => {\n      await waitForMarketHydration(canvasElement);\n      const fileUpload = canvasElement.querySelector('market-file-upload') as TMarketFileUploadTemplateArgs;\n      fileUpload.value = [...files];\n      fileUpload.fileMetadata = [...metadata];\n    })();\n    return Story();\n  };\n\nexport const API: StoryObj = {\n  render: (args) => MarketFileUploadTemplate(args),\n};\n\nexport const SingleFileSelected: StoryObj = {\n  render: (args) => MarketFileUploadTemplate(args),\n  decorators: [addFilesAndMetadataDecorator()],\n};\n\nexport const MultipleFilesSelected: StoryObj = {\n  render: () => MarketFileUploadTemplate({ multiple: true }),\n  decorators: [addFilesAndMetadataDecorator([...demoFiles.slice(0, 2)])],\n};\n\nexport const CompactMode: StoryObj = {\n  render: () =>\n    html`\n      <div style=\"width: 400px; margin: 0 auto;\">\n        <market-file-upload compact multiple></market-file-upload>\n      </div>\n    `,\n};\n\nexport const CustomDropZoneContent: StoryObj = {\n  render: () => html`\n    <market-file-upload>\n      <market-accessory size=\"image\">\n        <market-icon name=\"binoculars\"></market-icon>\n      </market-accessory>\n      <span class=\"paragraph-30\"><market-link>Call to action</market-link> and other custom text</span>\n      <p class=\"paragraph-20\">You can replace the default drop zone content with your own custom icon and text</p>\n    </market-file-upload>\n  `,\n};\n\nexport const CustomCompactContent: StoryObj = {\n  render: () => html`\n    <div style=\"width: 400px; margin: 0 auto;\">\n      <market-file-upload compact>\n        <market-button rank=\"secondary\" slot=\"compact\">Custom button text</market-button>\n      </market-file-upload>\n    </div>\n  `,\n};\n\nexport const FileSubtextSize: StoryObj = {\n  render: () => MarketFileUploadTemplate({ fileSubtext: 'size' }),\n  decorators: [\n    addFilesAndMetadataDecorator([new File(['mock data'], 'test-image-with-size-metadata.jpg', { type: 'image/jpg' })]),\n  ],\n};\n\nexport const FileSubtextType: StoryObj = {\n  render: () => MarketFileUploadTemplate({ fileSubtext: 'type' }),\n  decorators: [\n    addFilesAndMetadataDecorator([new File(['mock data'], 'test-image-with-type-metadata.jpg', { type: 'image/jpg' })]),\n  ],\n};\n\nexport const FileMetadataCustomIcon: StoryObj = {\n  render: () => MarketFileUploadTemplate({ multiple: true }),\n  decorators: [\n    addFilesAndMetadataDecorator(\n      [\n        new File(['mock data'], 'test-file.txt', { type: 'text/plain' }),\n        new File(['mock data'], 'test-image.jpg', { type: 'image/jpg' }),\n        new File(['mock data'], 'test-image-with-custom-icon.jpg', { type: 'image/jpg' }),\n      ],\n      [{ filename: 'test-image-with-custom-icon.jpg', leadingIconName: 'binoculars' }],\n    ),\n  ],\n};\n\nexport const FileMetadataCustomRowStatus: StoryObj = {\n  render: () => MarketFileUploadTemplate({ multiple: true }),\n  parameters: {\n    // setting a higher diff threshold because internal icon is animated\n    chromatic: { diffThreshold: 0.9 },\n  },\n  decorators: [\n    addFilesAndMetadataDecorator(\n      [...demoFiles.slice(3, 6)],\n      [\n        { filename: 'test-file.txt', status: 'loading' },\n        { filename: 'test-image.gif', status: 'success', message: 'Messages do not display unless status = error' },\n        {\n          filename: 'test-spreadsheet.csv',\n          status: 'error',\n          message: 'Error message overrides existing secondary text',\n        },\n      ],\n    ),\n  ],\n};\n\nexport const AcceptPNG: StoryObj = {\n  render: () => MarketFileUploadTemplate({ accept: 'PNG' }),\n};\n"]}