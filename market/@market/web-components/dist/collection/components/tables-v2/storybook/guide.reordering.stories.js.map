{"version":3,"file":"guide.reordering.stories.js","sourceRoot":"","sources":["../../../../../src/components/tables-v2/storybook/guide.reordering.stories.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Meta, StoryObj, Decorator } from '@storybook/web-components';\nimport { html } from 'lit';\nimport { MarketTableV2ReorderableTemplate, MarketTableV2CatalogTemplate } from './market-table-v2.templates';\nimport { waitForMarketHydration } from '../../../utils/wait-for-market-hydration';\nimport { isMarketTableV2Group } from '../market-table-v2-group/types';\n\nexport default {\n  title: 'Components/Table/v2/Guide/5. Reordering',\n  tags: ['!dev'],\n} as Meta;\n\n/* eslint-disable no-console */\nconst logReorder = (e: CustomEvent) => {\n  const { detail } = e;\n  const target = e.target as HTMLElement;\n  const { item, oldIndex, newIndex } = detail;\n  const table = target.closest('market-table-v2');\n  const row = isMarketTableV2Group(item) ? item.querySelector('market-table-v2-row[slot=\"parent\"]') : item;\n  const targetLabel =\n    target === table\n      ? 'table root'\n      : `${target.querySelector('market-table-v2-row[slot=\"parent\"]').textContent.replace(/\\s+/g, ' ').trim()} group`;\n\n  console.log('\\n---');\n  console.log('marketTableV2RowsReordered!');\n  console.log(`index: ${oldIndex} -> ${newIndex}`);\n  console.log(`item: ${row.textContent.replace(/\\s+/g, ' ').trim()}`);\n  console.log(`target: ${targetLabel}`);\n  console.log('table node:', table);\n  console.log('target node:', target);\n  console.log('item node:', item);\n};\n/* eslint-enable no-console */\n\nconst reorderDecorator: Decorator = (Story, { canvasElement }) => {\n  (async () => {\n    await waitForMarketHydration(canvasElement);\n    const tables = canvasElement.querySelectorAll('market-table-v2');\n    tables.forEach((table) => {\n      table.addEventListener('marketTableV2RowsReordered', logReorder);\n    });\n  })();\n  return Story();\n};\n\nexport const Reordering: StoryObj = {\n  render: (args) => MarketTableV2ReorderableTemplate(args),\n  args: { footer: true, header: true, reorderable: 'internal' },\n  decorators: [reorderDecorator],\n};\n\nexport const ExternalReordering: StoryObj = {\n  render: (args) => html`\n    <div class=\"market-grid-container\">\n      <market-content-card class=\"market-grid-item-medium\">\n        ${MarketTableV2ReorderableTemplate(args)}\n      </market-content-card>\n      <market-content-card class=\"market-grid-item-medium\">\n        ${MarketTableV2ReorderableTemplate(args)}\n      </market-content-card>\n    </div>\n  `,\n  args: { reorderable: 'external', style: 'min-height: 100%;' },\n  decorators: [reorderDecorator],\n};\n\nexport const DragHandlePosition: StoryObj = {\n  render: (args) => MarketTableV2ReorderableTemplate(args),\n  args: {\n    dragHandlePosition: 'leading',\n    header: true,\n    footer: true,\n    reorderable: 'internal',\n  },\n  decorators: [reorderDecorator],\n};\n\nexport const DragHandleVisibility: StoryObj = {\n  render: (args) => MarketTableV2ReorderableTemplate(args),\n  args: {\n    dragHandleVisibility: 'hover',\n    header: true,\n    footer: true,\n    reorderable: 'internal',\n  },\n  decorators: [reorderDecorator],\n};\n\nexport const NestedReordering: StoryObj = {\n  render: (args) => MarketTableV2CatalogTemplate(args),\n  args: {\n    collapsed: true,\n    images: true,\n    reorderable: 'internal',\n  },\n  decorators: [reorderDecorator],\n};\n\nexport const FrameworkMode: StoryObj = {\n  render: (args) => MarketTableV2ReorderableTemplate(args),\n  args: {\n    header: true,\n    footer: true,\n    reorderable: 'internal',\n    reorderMode: 'framework',\n  },\n  decorators: [reorderDecorator],\n};\n"]}