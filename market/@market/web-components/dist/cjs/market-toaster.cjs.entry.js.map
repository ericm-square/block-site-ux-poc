{"file":"market-toaster.entry.cjs.js","mappings":";;;;;;AAAA,MAAM,gBAAgB,GAAG,0qBAA0qB,CAAC;AACpsB,4BAAe,gBAAgB;;ACC/B;AACA,MAAM,sBAAsB,GAAG,EAAE,CAAC;AAClC,MAAM,mBAAmB,GAAG,EAAE,CAAC;AAC/B,MAAM,mCAAmC,GAAG,GAAG,CAAC;MAOnC,aAAa;IAL1B;;QAOE,WAAM,GAAkC,EAAE,CAAC;KAkE5C;;;;IA5DC,MAAM,IAAI,CAAC,OAAO;QAChB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC7B,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACzC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC7B,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE7D,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,EAAE,mCAAmC,CAAC,CAAC,CAAC;QACzF,OAAO,CAAC,qBAAqB,EAAE,CAAC;KACjC;IAED,cAAc;QACZ,IAAI,MAAM,GAAG,mBAAmB,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK;YACxB,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,gCAAgC,MAAM,MAAM,CAAC;YACrE,MAAM,IAAI,KAAK,CAAC,YAAY,GAAG,sBAAsB,CAAC;SACvD,CAAC,CAAC;KACJ;;;;IAMD,MAAM,IAAI,CAAC,OAAO;QAChB,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC7B,MAAM,CAAC,qBAAqB,CAAC;YAC3B,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB,CAAC,CAAC;QAEH,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,EAAE,mCAAmC,CAAC,CAAC,CAAC;QACzF,OAAO,CAAC,MAAM,EAAE,CAAC;KAClB;;;;IAMD,SAAS;QACP,MAAM,eAAe,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,OAAO,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KACtE;IAGD,8BAA8B,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE;QAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAClB;IAGD,kCAAkC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE;QAClD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAClB;IAED,MAAM;QACJ,QACEA,QAACC,UAAI,qDAAC,KAAK,EAAC,gBAAgB,IAC1BD,oEAAa,CACR,EACP;KACH;;;;;;;","names":["h","Host"],"sources":["src/components/market-toaster/market-toaster.css?tag=market-toaster&encapsulation=shadow","src/components/market-toaster/market-toaster.tsx"],"sourcesContent":["@import \"../../styles/mixins/component-base.css\";\n\n:host {\n  /* TODO UI-1153 design tokens */\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  /* ensures that toast appear on top of any market-context bc market-context-manager has a z-index of 1000 */\n  z-index: 1010;\n  padding: 0 0 var(--toast-bottom-margin, 24px);\n\n  /* ensure we can click through the market-toaster to underlying elements behind it */\n  pointer-events: none;\n\n  ::slotted(.market-toast) {\n    /* ensure horizontal margins from edge of toaster */\n    width: calc(100% - var(--toast-horizontal-margin, 16px) * 2);\n    margin: var(--toast-vertical-spacing, 16px) auto 0;\n\n    /* clicks pass through market-toaster but should still fire on slotted market-toasts */\n    pointer-events: auto;\n  }\n\n  /*\n    Because some folks are using toasts without the toaster API,\n    we only use transitions if it was added via toaster.show()\n  */\n  ::slotted(.use-transitions) {\n    /* position offscreen just below the bottom of the toaster */\n    position: absolute;\n    top: 100%;\n\n    /* center toast horizontally */\n    left: 50%;\n    margin: 0;\n    transition: transform var(--toast-animation-transition-duration, 200ms) ease-in-out;\n    transform: translate(-50%, 0);\n  }\n}\n","import { Component, Host, Element, Method, h, Listen } from '@stencil/core';\n\n// TODO(UI-1153): add design tokens for these\nconst TOAST_VERTICAL_SPACING = 16;\nconst TOAST_BOTTOM_MARGIN = 24;\nconst TOAST_ANIMATION_TRANSITION_DURATION = 200;\n\n@Component({\n  tag: 'market-toaster',\n  styleUrl: 'market-toaster.css',\n  shadow: true,\n})\nexport class MarketToaster {\n  @Element() el: HTMLMarketToasterElement;\n  toasts: Array<HTMLMarketToastElement> = [];\n\n  /**\n   * Add the passed toastEl to market-toaster and make it visible\n   **/\n  @Method()\n  async show(toastEl) {\n    this.toasts.unshift(toastEl);\n    toastEl.classList.add('use-transitions');\n    this.el.appendChild(toastEl);\n    window.requestAnimationFrame(this.positionToasts.bind(this));\n\n    await new Promise((resolve) => setTimeout(resolve, TOAST_ANIMATION_TRANSITION_DURATION));\n    toastEl.startAutoDismissTimer();\n  }\n\n  positionToasts() {\n    let offset = TOAST_BOTTOM_MARGIN;\n    this.toasts.forEach((toast) => {\n      toast.style.transform = `translate(-50%, calc(-100% - ${offset}px))`;\n      offset += toast.offsetHeight + TOAST_VERTICAL_SPACING;\n    });\n  }\n\n  /**\n   * Remove the passed toastEl from market-toaster\n   **/\n  @Method()\n  async hide(toastEl) {\n    const index = this.toasts.indexOf(toastEl);\n    this.toasts.splice(index, 1);\n    window.requestAnimationFrame(() => {\n      toastEl.style.transform = '';\n      this.positionToasts();\n    });\n\n    await new Promise((resolve) => setTimeout(resolve, TOAST_ANIMATION_TRANSITION_DURATION));\n    toastEl.remove();\n  }\n\n  /**\n   * Remove all market-toasts from market-toaster\n   **/\n  @Method()\n  removeAll() {\n    const allActiveToasts = [...this.toasts];\n    return Promise.all(allActiveToasts.map((toast) => this.hide(toast)));\n  }\n\n  @Listen('marketToastAutoDismissed')\n  toastAutoDismissedEventHandler({ target: toast }) {\n    this.hide(toast);\n  }\n\n  @Listen('marketToastManuallyDismissed')\n  toastManuallyDismissedEventHandler({ target: toast }) {\n    this.hide(toast);\n  }\n\n  render() {\n    return (\n      <Host class=\"market-toaster\">\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n"],"version":3}