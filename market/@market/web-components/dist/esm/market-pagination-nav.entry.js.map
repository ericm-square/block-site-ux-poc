{"file":"market-pagination-nav.entry.js","mappings":"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","names":[],"sources":["src/components/market-pagination/subcomponents/market-pagination-nav/market-pagination-nav.tsx"],"sourcesContent":["import { Component, Element, Event, EventEmitter, h, Host, Listen, Prop } from '@stencil/core';\n\nimport { getNamespacedTagFor } from '../../../../utils/namespace';\nimport { TMarketInternalPaginationNavigationEventDetail } from '../../events';\n\n@Component({\n  tag: 'market-pagination-nav',\n})\nexport class MarketPaginationNav {\n  @Element() el: HTMLMarketPaginationNavElement;\n\n  /**\n   * The current page being viewed.\n   */\n  @Prop() readonly currentPage!: number;\n\n  /**\n   * Functionally and visually disables the navigation buttons\n   */\n  @Prop({ reflect: true }) readonly disabled: boolean = false;\n\n  /**\n   * The total number of pages.\n   */\n  @Prop() readonly totalPages!: number;\n\n  /**\n   * Allow the user to navigate to the next page\n   */\n  @Prop() readonly hasNextPage!: boolean;\n\n  /**\n   * Allow the user to navigate to the previous page\n   */\n  @Prop() readonly hasPreviousPage!: boolean;\n\n  /**\n   * The number of results displayed per page.\n   * Required to emit this value as part of the navigation event.\n   */\n  @Prop() readonly pageSize: string;\n\n  /**\n   * Fired when a new page is selected\n   *\n   * @property {string} page - page number to navigate to\n   * @property {string} prevPage - the current page _before_ navigation\n   * @property {string} pageSize - the number of items per page\n   */\n  @Event() marketInternalPaginationNavigation: EventEmitter<TMarketInternalPaginationNavigationEventDetail>;\n\n  @Listen('marketListSelectionsDidChange')\n  listSelectionEventHandler(e: CustomEvent) {\n    const { newSelectionValue } = e.detail;\n    this.marketInternalPaginationNavigation.emit({\n      page: newSelectionValue,\n      prevPage: `${this.currentPage}`,\n      pageSize: this.pageSize,\n    });\n  }\n\n  handlePrev() {\n    if (this.hasPreviousPage === false || this.currentPage === 1) {\n      return;\n    }\n\n    const prevPage = this.currentPage - 1;\n    this.marketInternalPaginationNavigation.emit({\n      page: `${prevPage}`,\n      prevPage: `${this.currentPage}`,\n      pageSize: this.pageSize,\n    });\n  }\n\n  handleNext() {\n    if (this.hasNextPage === false || (Boolean(this.totalPages) && this.currentPage === this.totalPages)) {\n      return;\n    }\n\n    const nextPage = this.currentPage + 1;\n    this.marketInternalPaginationNavigation.emit({\n      page: `${nextPage}`,\n      prevPage: `${this.currentPage}`,\n      pageSize: this.pageSize,\n    });\n  }\n\n  /**\n   * Dropdown navigates by every 10 pages if there are more than 20 pages\n   *\n   * pageList for a large dataset = [10, 20, 30, 40, 50...]\n   * pageList for a small dataset = [1, 2, 3, 5, 6, 7...]\n   */\n  get pageList() {\n    const isLargeDataset = this.totalPages > 20;\n    const largeDatasetSteps = 10;\n\n    return isLargeDataset\n      ? Array.from({ length: Math.floor(this.totalPages / largeDatasetSteps) }).map(\n          (_, i) => (i + 1) * largeDatasetSteps,\n        )\n      : Array.from({ length: this.totalPages }).map((_, i) => i + 1);\n  }\n\n  render() {\n    // Don't render page info when totalPages is missing or set to 0\n    const renderPageInfo = Boolean(this.totalPages);\n\n    const hasPreviousPage = this.currentPage > 1 || this.hasPreviousPage;\n    const hasNextPage = this.currentPage < this.totalPages || this.hasNextPage;\n\n    const MarketButtonTagName = getNamespacedTagFor('market-button');\n    const MarketButtonDropdownTagName = getNamespacedTagFor('market-button-dropdown');\n    const MarketFilterButtonTagName = getNamespacedTagFor('market-filter-button');\n    const MarketListTagName = getNamespacedTagFor('market-list');\n    const MarketRowTagName = getNamespacedTagFor('market-row');\n    const MarketAccessoryTagName = getNamespacedTagFor('market-accessory');\n\n    return (\n      <Host class=\"market-pagination-nav\">\n        <nav>\n          <MarketButtonTagName\n            size=\"small\"\n            disabled={this.disabled || !hasPreviousPage}\n            onClick={() => this.handlePrev()}\n          >\n            <MarketAccessoryTagName slot=\"icon\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M4.29289 11.293C3.90237 11.6835 3.90237 12.3167 4.29289 12.7072L11.2929 19.7072L12.7071 18.293L7.41421 13.0001L19 13.0001V11.0001L7.41421 11.0001L12.7071 5.70718L11.2929 4.29297L4.29289 11.293Z\"\n                />\n              </svg>\n            </MarketAccessoryTagName>\n          </MarketButtonTagName>\n\n          {renderPageInfo && (\n            <MarketButtonDropdownTagName disabled={this.disabled} no-caret popover-placement=\"bottom-end\" persist-list>\n              <MarketFilterButtonTagName size=\"small\" slot=\"trigger\">\n                <span>\n                  <slot name=\"nav-label\">Page</slot>\n                </span>\n                <span slot=\"feedback\">\n                  <slot name=\"nav-feedback\">\n                    {this.currentPage} of {this.totalPages}\n                  </slot>\n                </span>\n              </MarketFilterButtonTagName>\n              <MarketListTagName slot=\"content\">\n                {this.pageList.map((pageNum) => (\n                  <MarketRowTagName\n                    key={`pageNav_${pageNum}`}\n                    selected={this.currentPage === pageNum}\n                    value={`${pageNum}`}\n                  >\n                    {pageNum}\n                  </MarketRowTagName>\n                ))}\n              </MarketListTagName>\n            </MarketButtonDropdownTagName>\n          )}\n\n          <MarketButtonTagName size=\"small\" disabled={this.disabled || !hasNextPage} onClick={() => this.handleNext()}>\n            <MarketAccessoryTagName slot=\"icon\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M19.7071 11.293C20.0976 11.6835 20.0976 12.3167 19.7071 12.7072L12.7071 19.7072L11.2929 18.293L16.5858 13.0001L5 13.0001L5 11.0001L16.5858 11.0001L11.2929 5.70718L12.7071 4.29297L19.7071 11.293Z\"\n                />\n              </svg>\n            </MarketAccessoryTagName>\n          </MarketButtonTagName>\n        </nav>\n      </Host>\n    );\n  }\n}\n"],"version":3}